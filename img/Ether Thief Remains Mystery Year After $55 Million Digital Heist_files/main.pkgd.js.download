(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function(){"use strict";function e(e,r){function a(r){d&&d.flags.indexOf("+")>-1&&r.match(/[^\n\r\s]/)?d.array.push({type:"text",value:r.replace(/(^\s*)|(\s*$)/g,"")}):v+=e.substring(0,r.length)}function n(e){if(d&&d.array){if(d.arrayType=d.arrayType||"complex","simple"===d.arrayType)return;null!==d.arrayFirstKey&&d.arrayFirstKey!==e||d.array.push(g={}),d.flags.indexOf("+")>-1?g.type=e:d.arrayFirstKey=d.arrayFirstKey||e}}function t(e,a){return r.comments&&(e=e.replace(/(?:^\\)?\[[^\[\]\n\r]*\](?!\])/gm,""),e=e.replace(/\[\[([^\[\]\n\r]*)\]\]/g,"[$1]")),"append"==a&&(e=e.replace(new RegExp("^(\\s*)\\\\","gm"),"$1")),e}function u(){var e=v+"";return v="",m=null,e}function p(e,r){r=r||{};var a=m,n=u();if(r.replace?(n=t(n,"replace").replace(new RegExp("^\\s*"),""),v=new RegExp("\\s*$").exec(n)[0],m=a):n=t(n,"append"),"object"==typeof e)r.replace&&(e[e.length-1]=""),e[e.length-1]+=n.replace(new RegExp("\\s*$"),"");else{var p=e.split(".");h=g;for(var l=0;l<p.length-1;l++)"string"==typeof h[p[l]]&&(h[p[l]]={}),h=h[p[l]]=h[p[l]]||{};r.replace&&(h[p[p.length-1]]=""),h[p[p.length-1]]+=n.replace(new RegExp("\\s*$"),"")}}var l="\\u0000\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u200B\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\u005B\\u005C\\u005D\\u007B\\u007D\\u003A",s=new RegExp(".*((\r|\n)+)"),i=new RegExp("^\\s*([^"+l+"]+)[ \t\r]*:[ \t\r]*(.*(?:\n|\r|$))"),c=new RegExp("^\\s*:[ \t\r]*(endskip|ignore|skip|end).*?(\n|\r|$)","i"),f=new RegExp("^\\s*\\*[ \t\r]*(.*(?:\n|\r|$))"),o=new RegExp("^\\s*(\\[|\\{)[ \t\r]*([+.]*)[ \t\r]*([^"+l+"]*)[ \t\r]*(?:\\]|\\}).*?(\n|\r|$)"),y={},g=y,x=[],d=void 0,h=null,m=null,v="",w=!1,r=r||{};for(!0!==r.comments&&(r.comments=!1);e;){var E;c.exec(e)?(E=c.exec(e),function(r){if(w&&"endskip"!==r&&"ignore"!==r)return u();switch(r){case"end":return void(m&&p(m,{replace:!1}));case"ignore":e="";break;case"skip":w=!0;break;case"endskip":w=!1}u()}(E[1].toLowerCase())):w||!i.exec(e)||d&&"simple"===d.arrayType?!w&&f.exec(e)&&d&&d.array&&"complex"!==d.arrayType&&"freeform"!==d.arrayType&&d.flags.indexOf("+")<0?(E=f.exec(e),function(e){u(),d.arrayType=d.arrayType||"simple",d.array.push(""),m=d.array,v=e,p(d.array,{replace:!0})}(E[1])):!w&&o.exec(e)?(E=o.exec(e),function(e,r,a){if(u(),""==a){var t=x.pop();g=(t?t.scope:y)||y,d=x[x.length-1]}else if("["===e||"{"===e){var p=!1,l=y;if(r.indexOf(".")>-1?(n(a),p=!0,d&&(l=g)):(g=y,x=[]),d&&d.flags.indexOf("+")>-1)var s=a;else{for(var i=a.split("."),c=0;c<i.length-1;c++)l=l[i[c]]=l[i[c]]||{};var s=i[i.length-1]}d&&d.flags.indexOf("+")>-1&&r.indexOf(".")>-1&&("["===e?s="value":"{"===e&&(g=g.value={}));var f={array:null,arrayType:null,arrayFirstKey:null,flags:r,scope:g};"["==e?(f.array=l[s]=[],r.indexOf("+")>-1&&(f.arrayType="freeform"),p?x.push(f):x=[f],d=x[x.length-1]):"{"==e&&(p?x.push(f):(g=l[s]="object"==typeof l[s]?l[s]:{},x=[f]),d=x[x.length-1])}}(E[1],E[2],E[3])):s.exec(e)?(E=s.exec(e),a(E[0])):(a(e),e=""):(E=i.exec(e),function(e,r){u(),n(e),d&&d.flags.indexOf("+")>-1&&(e="value"),m=e,v=r,p(e,{replace:!0})}(E[1],E[2]||"")),E&&(e=e.substring(E[0].length))}return u(),y}var r={load:e};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.archieml=r):this.archieml=r,"function"==typeof define&&define.amd&&define("archieml",[],function(){return r})}).call(this);
},{}],2:[function(require,module,exports){
(function (global){
"use strict";function compare(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function isBuffer(e){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function pToString(e){return Object.prototype.toString.call(e)}function isView(e){return!isBuffer(e)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function getName(e){if(util.isFunction(e)){if(functionsHaveNames)return e.name;var t=e.toString(),r=t.match(regex);return r&&r[1]}}function truncate(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function inspect(e){if(functionsHaveNames||!util.isFunction(e))return util.inspect(e);var t=getName(e);return"[Function"+(t?": "+t:"")+"]"}function getMessage(e){return truncate(inspect(e.actual),128)+" "+e.operator+" "+truncate(inspect(e.expected),128)}function fail(e,t,r,n,i){throw new assert.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function ok(e,t){e||fail(e,!0,t,"==",assert.ok)}function _deepEqual(e,t,r,n){if(e===t)return!0;if(isBuffer(e)&&isBuffer(t))return 0===compare(e,t);if(util.isDate(e)&&util.isDate(t))return e.getTime()===t.getTime();if(util.isRegExp(e)&&util.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(isView(e)&&isView(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(isBuffer(e)!==isBuffer(t))return!1;n=n||{actual:[],expected:[]};var i=n.actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),objEquiv(e,t,r,n))}return r?e===t:e==t}function isArguments(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function objEquiv(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(util.isPrimitive(e)||util.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=isArguments(e),a=isArguments(t);if(i&&!a||!i&&a)return!1;if(i)return e=pSlice.call(e),t=pSlice.call(t),_deepEqual(e,t,r);var s,u,o=objectKeys(e),f=objectKeys(t);if(o.length!==f.length)return!1;for(o.sort(),f.sort(),u=o.length-1;u>=0;u--)if(o[u]!==f[u])return!1;for(u=o.length-1;u>=0;u--)if(s=o[u],!_deepEqual(e[s],t[s],r,n))return!1;return!0}function notDeepStrictEqual(e,t,r){_deepEqual(e,t,!0)&&fail(e,t,r,"notDeepStrictEqual",notDeepStrictEqual)}function expectedException(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _tryBlock(e){var t;try{e()}catch(e){t=e}return t}function _throws(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=_tryBlock(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&fail(i,r,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&util.isError(i),u=!e&&i&&!r;if((s&&a&&expectedException(i,r)||u)&&fail(i,r,"Got unwanted exception"+n),e&&i&&r&&!expectedException(i,r)||!e&&i)throw i}var util=require("util/"),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return"foo"===function(){}.name}(),assert=module.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;assert.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var t=e.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=getName(t),a=n.indexOf("\n"+i);if(a>=0){var s=n.indexOf("\n",a+1);n=n.substring(s+1)}this.stack=n}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(e,t,r){e!=t&&fail(e,t,r,"==",assert.equal)},assert.notEqual=function(e,t,r){e==t&&fail(e,t,r,"!=",assert.notEqual)},assert.deepEqual=function(e,t,r){_deepEqual(e,t,!1)||fail(e,t,r,"deepEqual",assert.deepEqual)},assert.deepStrictEqual=function(e,t,r){_deepEqual(e,t,!0)||fail(e,t,r,"deepStrictEqual",assert.deepStrictEqual)},assert.notDeepEqual=function(e,t,r){_deepEqual(e,t,!1)&&fail(e,t,r,"notDeepEqual",assert.notDeepEqual)},assert.notDeepStrictEqual=notDeepStrictEqual,assert.strictEqual=function(e,t,r){e!==t&&fail(e,t,r,"===",assert.strictEqual)},assert.notStrictEqual=function(e,t,r){e===t&&fail(e,t,r,"!==",assert.notStrictEqual)},assert.throws=function(e,t,r){_throws(!0,e,t,r)},assert.doesNotThrow=function(e,t,r){_throws(!1,e,t,r)},assert.ifError=function(e){if(e)throw e};var objectKeys=Object.keys||function(e){var t=[];for(var r in e)hasOwn.call(e,r)&&t.push(r);return t};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"util/":31}],3:[function(require,module,exports){
"use strict";function ready(e){assert.notEqual(typeof document,"undefined","document-ready only runs in the browser");var t=document.readyState;if("complete"===t||"interactive"===t)return setTimeout(e,0);document.addEventListener("DOMContentLoaded",function(){e()})}var assert=require("assert");module.exports=ready;
},{"assert":2}],4:[function(require,module,exports){
function forEach(r,t,o){if(!isFunction(t))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===toString.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)}function forEachArray(r,t,o){for(var n=0,a=r.length;n<a;n++)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}function forEachString(r,t,o){for(var n=0,a=r.length;n<a;n++)t.call(o,r.charAt(n),n,r)}function forEachObject(r,t,o){for(var n in r)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}var isFunction=require("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;
},{"is-function":8}],5:[function(require,module,exports){
(function (global){
var win;win="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},module.exports=win;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],6:[function(require,module,exports){
function attributeToProperty(r){return function(t,o,e){for(var n in o)n in transform&&(o[transform[n]]=o[n],delete o[n]);return r(t,o,e)}}module.exports=attributeToProperty;var transform={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};
},{}],7:[function(require,module,exports){
function quot(T){return T===ATTR_VALUE_SQ||T===ATTR_VALUE_DQ}function has(T,e){return hasOwn.call(T,e)}function selfClosing(T){return closeRE.test(T)}var attrToProp=require("hyperscript-attribute-to-property"),VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12,COMMENT=13;module.exports=function(T,e){function A(T){return"function"==typeof T?T:"string"==typeof T?T:T&&"object"==typeof T?T:t("",T)}e||(e={});var t=e.concat||function(T,e){return String(T)+String(e)};return!1!==e.attrToProp&&(T=attrToProp(T)),function(E){function n(T){var A=[];r===ATTR_VALUE_W&&(r=ATTR);for(var t=0;t<T.length;t++){var E=T.charAt(t);r===TEXT&&"<"===E?(R.length&&A.push([TEXT,R]),R="",r=OPEN):">"!==E||quot(r)||r===COMMENT?r===COMMENT&&/-$/.test(R)&&"-"===E?(e.comments&&A.push([ATTR_VALUE,R.substr(0,R.length-1)],[CLOSE]),R="",r=TEXT):r===OPEN&&/^!--$/.test(R)?(e.comments&&A.push([OPEN,R],[ATTR_KEY,"comment"],[ATTR_EQ]),R=E,r=COMMENT):r===TEXT||r===COMMENT?R+=E:r===OPEN&&/\s/.test(E)?(A.push([OPEN,R]),R="",r=ATTR):r===OPEN?R+=E:r===ATTR&&/[^\s"'=\/]/.test(E)?(r=ATTR_KEY,R=E):r===ATTR&&/\s/.test(E)?(R.length&&A.push([ATTR_KEY,R]),A.push([ATTR_BREAK])):r===ATTR_KEY&&/\s/.test(E)?(A.push([ATTR_KEY,R]),R="",r=ATTR_KEY_W):r===ATTR_KEY&&"="===E?(A.push([ATTR_KEY,R],[ATTR_EQ]),R="",r=ATTR_VALUE_W):r===ATTR_KEY?R+=E:r!==ATTR_KEY_W&&r!==ATTR||"="!==E?r!==ATTR_KEY_W&&r!==ATTR||/\s/.test(E)?r===ATTR_VALUE_W&&'"'===E?r=ATTR_VALUE_DQ:r===ATTR_VALUE_W&&"'"===E?r=ATTR_VALUE_SQ:r===ATTR_VALUE_DQ&&'"'===E?(A.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r===ATTR_VALUE_SQ&&"'"===E?(A.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE_W||/\s/.test(E)?r===ATTR_VALUE&&/\s/.test(E)?(A.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE&&r!==ATTR_VALUE_SQ&&r!==ATTR_VALUE_DQ||(R+=E):(r=ATTR_VALUE,t--):(A.push([ATTR_BREAK]),/[\w-]/.test(E)?(R+=E,r=ATTR_KEY):r=ATTR):(A.push([ATTR_EQ]),r=ATTR_VALUE_W):(r===OPEN?A.push([OPEN,R]):r===ATTR_KEY?A.push([ATTR_KEY,R]):r===ATTR_VALUE&&R.length&&A.push([ATTR_VALUE,R]),A.push([CLOSE]),R="",r=TEXT)}return r===TEXT&&R.length?(A.push([TEXT,R]),R=""):r===ATTR_VALUE&&R.length?(A.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_DQ&&R.length?(A.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_SQ&&R.length?(A.push([ATTR_VALUE,R]),R=""):r===ATTR_KEY&&(A.push([ATTR_KEY,R]),R=""),A}for(var r=TEXT,R="",s=arguments.length,_=[],o=0;o<E.length;o++)if(o<s-1){var l=arguments[o+1],h=n(E[o]),i=r;i===ATTR_VALUE_DQ&&(i=ATTR_VALUE),i===ATTR_VALUE_SQ&&(i=ATTR_VALUE),i===ATTR_VALUE_W&&(i=ATTR_VALUE),i===ATTR&&(i=ATTR_KEY),h.push([VAR,i,l]),_.push.apply(_,h)}else _.push.apply(_,n(E[o]));for(var f=[null,{},[]],p=[[f,-1]],o=0;o<_.length;o++){var a=p[p.length-1][0],h=_[o],u=h[0];if(u===OPEN&&/^\//.test(h[1])){var g=p[p.length-1][1];p.length>1&&(p.pop(),p[p.length-1][0][2][g]=T(a[0],a[1],a[2].length?a[2]:void 0))}else if(u===OPEN){var L=[h[1],{},[]];a[2].push(L),p.push([L,a[2].length-1])}else if(u===ATTR_KEY||u===VAR&&h[1]===ATTR_KEY){for(var V,c="";o<_.length;o++)if(_[o][0]===ATTR_KEY)c=t(c,_[o][1]);else{if(_[o][0]!==VAR||_[o][1]!==ATTR_KEY)break;if("object"!=typeof _[o][2]||c)c=t(c,_[o][2]);else for(V in _[o][2])_[o][2].hasOwnProperty(V)&&!a[1][V]&&(a[1][V]=_[o][2][V])}_[o][0]===ATTR_EQ&&o++;for(var U=o;o<_.length;o++)if(_[o][0]===ATTR_VALUE||_[o][0]===ATTR_KEY)a[1][c]?a[1][c]=t(a[1][c],_[o][1]):a[1][c]=A(_[o][1]);else{if(_[o][0]!==VAR||_[o][1]!==ATTR_VALUE&&_[o][1]!==ATTR_KEY){!c.length||a[1][c]||o!==U||_[o][0]!==CLOSE&&_[o][0]!==ATTR_BREAK||(a[1][c]=c.toLowerCase());break}a[1][c]?a[1][c]=t(a[1][c],_[o][2]):a[1][c]=A(_[o][2])}}else if(u===ATTR_KEY)a[1][h[1]]=!0;else if(u===VAR&&h[1]===ATTR_KEY)a[1][h[2]]=!0;else if(u===CLOSE){if(selfClosing(a[0])&&p.length){var g=p[p.length-1][1];p.pop(),p[p.length-1][0][2][g]=T(a[0],a[1],a[2].length?a[2]:void 0)}}else if(u===VAR&&h[1]===TEXT)void 0===h[2]||null===h[2]?h[2]="":h[2]||(h[2]=t("",h[2])),Array.isArray(h[2][0])?a[2].push.apply(a[2],h[2]):a[2].push(h[2]);else if(u===TEXT)a[2].push(h[1]);else if(u!==ATTR_EQ&&u!==ATTR_BREAK)throw new Error("unhandled: "+u)}if(f[2].length>1&&/^\s*$/.test(f[2][0])&&f[2].shift(),f[2].length>2||2===f[2].length&&/\S/.test(f[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(f[2][0])&&"string"==typeof f[2][0][0]&&Array.isArray(f[2][0][2])&&(f[2][0]=T(f[2][0][0],f[2][0][1],f[2][0][2])),f[2][0]}};var hasOwn=Object.prototype.hasOwnProperty,closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");
},{"hyperscript-attribute-to-property":6}],8:[function(require,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;
},{}],9:[function(require,module,exports){
function Nanobus(e){if(!(this instanceof Nanobus))return new Nanobus(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={},this._timing=nanotiming(this._name)}var nanotiming=require("nanotiming"),assert=require("assert");module.exports=Nanobus,Nanobus.prototype.emit=function(e,t){assert.equal(typeof e,"string","nanobus.emit: eventName should be type string"),this._timing.start(e);var s=this._listeners[e];return s&&s.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t),this._timing.end(e),this},Nanobus.prototype.on=Nanobus.prototype.addListener=function(e,t){return assert.equal(typeof e,"string","nanobus.on: eventName should be type string"),assert.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},Nanobus.prototype.prependListener=function(e,t){return assert.equal(typeof e,"string","nanobus.prependListener: eventName should be type string"),assert.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},Nanobus.prototype.once=function(e,t){function s(){t.apply(n,arguments),n.removeListener(e,s)}assert.equal(typeof e,"string","nanobus.once: eventName should be type string"),assert.equal(typeof t,"function","nanobus.once: listener should be type function");var n=this;return this.on(e,s),this},Nanobus.prototype.prependOnceListener=function(e,t){function s(){t.apply(n,arguments),n.removeListener(e,s)}assert.equal(typeof e,"string","nanobus.prependOnceListener: eventName should be type string"),assert.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var n=this;return this.prependListener(e,s),this},Nanobus.prototype.removeListener=function(e,t){function s(e,t){if(e){var s=e.indexOf(t);return-1!==s?(e.splice(s,1),!0):void 0}}return assert.equal(typeof e,"string","nanobus.removeListener: eventName should be type string"),assert.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),s(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),s(this._listeners[e],t))},Nanobus.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},Nanobus.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,s=[];if(t)for(var n=t.length,i=0;i<n;i++)s.push(t[i]);return s},Nanobus.prototype._emit=function(e,t,s){if(void 0!==e){s||(s=t,t=null);for(var n=e.length,i=0;i<n;i++){var r=e[i];t?r(t,s):r(s)}}};
},{"assert":2,"nanotiming":14}],10:[function(require,module,exports){
function history(t){assert.equal(typeof t,"function","nanohistory: cb must be type function"),window.onpopstate=function(){t(document.location)}}var assert=require("assert");module.exports=history;
},{"assert":2}],11:[function(require,module,exports){
function href(t,e){assert.equal(typeof t,"function","nanohref: cb must be type function"),e=e||window.document,window.onclick=function(n){if(!(n.button&&0!==n.button||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var o=function t(n){if(n&&n!==e)return"a"!==n.localName?t(n.parentNode):void 0===n.href?t(n.parentNode):window.location.host!==n.host?t(n.parentNode):n}(n.target);if(o){o.hasAttribute(noRoutingAttrName)||(n.preventDefault(),t(o))}}}}var assert=require("assert");module.exports=href;var noRoutingAttrName="data-no-routing";
},{"assert":2}],12:[function(require,module,exports){
"use strict";function nanoraf(n,r){assert.equal(typeof n,"function","nanoraf: render should be a function"),assert.ok("function"==typeof r||void 0===r,"nanoraf: raf should be a function or undefined"),r||(r=window.requestAnimationFrame);var e=!1,a=null;return function(){null!==a||e||(e=!0,r(function(){e=!1;for(var r=a.length,o=new Array(r),t=0;t<r;t++)o[t]=a[t];n.apply(n,o),a=null})),a=arguments}}var assert=require("assert");module.exports=nanoraf;
},{"assert":2}],13:[function(require,module,exports){
function Nanorouter(e){function r(e,r){e=e.replace(/^[#\/]/,""),n.on(e,r)}function o(e){return t?(e=pathname(e,isLocalFile),e===i?a():(i=e,(a=n(e))())):n(e)}e=e||{};var n=wayfarer(e.default||"/404"),t=e.curry||!1,a=null,i=null;return o.router=n,o.on=r,o}function pathname(e,r){return e=r?e.replace(stripElectron,""):e.replace(prefix,""),e.replace(suffix,"").replace(normalize,"/")}var wayfarer=require("wayfarer"),isLocalFile=/file:\/\//.test("object"==typeof window&&window.location&&window.location.origin),electron="^(file://|/)(.*.html?/?)?",protocol="^(http(s)?(://))?(www.)?",domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?",qs="[?].*$",stripElectron=new RegExp(electron),prefix=new RegExp(protocol+domain),normalize=new RegExp("#"),suffix=new RegExp(qs);module.exports=Nanorouter;
},{"wayfarer":32}],14:[function(require,module,exports){
function Nanotiming(n){if(!(this instanceof Nanotiming))return new Nanotiming(n);assert.equal(typeof n,"string","Nanotiming: name should be type string"),this._name=n,this._enabled="undefined"!=typeof window&&window.performance&&window.performance.mark}var assert=require("assert");module.exports=Nanotiming,Nanotiming.prototype.start=function(n){if(this._enabled){var e=n?this._name+":"+n:this._name;window.performance.mark(e+"-start")}},Nanotiming.prototype.end=function(n){if(this._enabled){var e=n?this._name+":"+n:this._name;window.performance.mark(e+"-end"),window.performance.measure(e,e+"-start",e+"-end")}};
},{"assert":2}],15:[function(require,module,exports){
var trim=require("trim"),forEach=require("for-each"),isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};var t={};return forEach(trim(r).split("\n"),function(r){var i=r.indexOf(":"),e=trim(r.slice(0,i)).toLowerCase(),o=trim(r.slice(i+1));void 0===t[e]?t[e]=o:isArray(t[e])?t[e].push(o):t[e]=[t[e],o]}),t};
},{"for-each":4,"trim":28}],16:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;u<i;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push("..");return l=l.concat(s.slice(o)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
}).call(this,require('_process'))

},{"_process":19}],17:[function(require,module,exports){
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.preactRenderToString=n()}(this,function(){function e(e){var n="";for(var t in e){var r=e[t];null!=r&&(n&&(n+=" "),n+=h(t),n+=": ",n+=r,"number"!=typeof r||f[t]||(n+="px"),n+=";")}return n||void 0}function n(e){var n="";for(var t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function t(e,n){for(var t in n)e[t]=n[t];return e}function r(e){var n=e.nodeName.defaultProps,r=t({},n||e.attributes);return n&&t(r,e.attributes),e.children&&(r.children=e.children),r}function o(a,f,l,s,h){var x=a||m,g=x.nodeName,b=x.attributes,O=x.children,k=!1;f=f||{},l=l||{};var w=l.pretty,C="string"==typeof w?w:"\t";if(null==a||!1===a)return"";if(!g)return c(a);if("function"==typeof g){if(k=!0,!l.shallow||!s&&!1!==l.renderRootComponent){var S=r(a),j=void 0;if(g.prototype&&"function"==typeof g.prototype.render){var N=new g(S,f);N._disable=N.__x=!0,N.props=S,N.context=f,N.componentWillMount&&N.componentWillMount(),j=N.render(N.props,N.state,N.context),N.getChildContext&&(f=t(t({},f),N.getChildContext()))}else j=g(S,f);return o(j,f,l,!1!==l.shallowHighOrder)}g=i(g)}var H="",_=void 0;if(b){var $=u(b);l&&!0===l.sortAttributes&&$.sort();for(var A=0;A<$.length;A++){var F=$[A],L=b[F];if("children"!==F&&(l&&l.allAttributes||"key"!==F&&"ref"!==F)){if("className"===F){if(b.class)continue;F="class"}else h&&F.match(/^xlink\:?(.+)/)&&(F=F.toLowerCase().replace(/^xlink\:?(.+)/,"xlink:$1"));"class"===F&&L&&"object"==typeof L?L=n(L):"style"===F&&L&&"object"==typeof L&&(L=e(L));var M=l.attributeHook&&l.attributeHook(F,L,f,l,k);if(M||""===M)H+=M;else if("dangerouslySetInnerHTML"===F)_=L&&L.__html;else if((L||0===L||""===L)&&"function"!=typeof L){if(!(!0!==L&&""!==L||(L=F,l&&l.xml))){H+=" "+F;continue}H+=" "+F+'="'+c(L)+'"'}}}}var P=H.replace(/^\n\s*/," ");if(P===H||~P.indexOf("\n")?w&&~H.indexOf("\n")&&(H+="\n"):H=P,H="<"+g+H+">",y.indexOf(g)>-1&&(H=H.replace(/>$/," />")),_)w&&v(_)&&(_="\n"+C+d(_,C)),H+=_;else{for(var R=O&&O.length,W=[],z=~H.indexOf("\n"),G=0;G<R;G++){var I=O[G];if(!p(I)){var T="svg"===g||"foreignObject"!==g&&h,q=o(I,f,l,!0,T);!z&&w&&v(q)&&(z=!0),q&&W.push(q)}}if(w&&z)for(var U=W.length;U--;)W[U]="\n"+C+d(W[U],C);if(W.length)H+=W.join("");else if(l&&l.xml)return H.substring(0,H.length-1)+" />"}return(l.jsx||-1===y.indexOf(g))&&(w&&~H.indexOf("\n")&&(H+="\n"),H+="</"+g+">"),H}function i(e){var n=e.prototype;n&&n.constructor;return e.displayName||e.name||n&&(n.displayName||n.name)||a(e)}function a(e){var n=Function.prototype.toString.call(e),t=(n.match(/^\s*function\s+([^\( ]+)/)||m)[1];if(!t){for(var r=-1,o=g.length;o--;)if(g[o]===e){r=o;break}r<0&&(r=g.push(e)-1),t="UnnamedComponent"+r}return t}var f={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},l={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"},u=Object.keys||function(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n},c=function(e){return String(e).replace(/[<>"&]/g,s)},s=function(e){return l[e]||e},p=function(e){return null==e||!1===e},d=function(e,n){return String(e).replace(/(\n+)/g,"$1"+(n||"\t"))},v=function(e,n,t){return String(e).length>(n||40)||!t&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},h=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return function(t){return n[t]||(n[t]=e(t))}}(function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}),x={shallow:!0},g=[],m={},y=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];o.render=o;var b=function(e,n){return o(e,n,x)};return o.shallowRender=b,o});
},{}],18:[function(require,module,exports){
!function(){"use strict";function e(){}function t(t,n){var o,r,i,l,a=E;for(l=arguments.length;l-- >2;)W.push(arguments[l]);for(n&&null!=n.children&&(W.length||W.push(n.children),delete n.children);W.length;)if((r=W.pop())&&void 0!==r.pop)for(l=r.length;l--;)W.push(r[l]);else!0!==r&&!1!==r||(r=null),(i="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===E?a=[r]:a.push(r),o=i;var _=new e;return _.nodeName=t,_.children=a,_.attributes=null==n?void 0:n,_.key=null==n?void 0:n.key,void 0!==M.vnode&&M.vnode(_),_}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,o){return t(e.nodeName,n(n({},e.attributes),o),arguments.length>2?[].slice.call(arguments,2):e.children)}function r(e){!e.__d&&(e.__d=!0)&&1==A.push(e)&&(M.debounceRendering||setTimeout)(i)}function i(){var e,t=A;for(A=[];e=t.pop();)e.__d&&k(e)}function l(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function _(e){var t=n({},e.attributes);t.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===t[r]&&(t[r]=o[r]);return t}function u(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.__n=e,n}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===V.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var l=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,f,l):e.removeEventListener(t,f,l),(e.__l||(e.__l={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e)s(e,t,null==o?"":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink\:?/,""));null==o||!1===o?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function s(e,t,n){try{e[t]=n}catch(e){}}function f(e){return this.__l[e.type](M.event&&M.event(e)||e)}function d(){for(var e;e=D.pop();)M.afterMount&&M.afterMount(e),e.componentDidMount&&e.componentDidMount()}function m(e,t,n,o,r,i){H++||(P=null!=r&&void 0!==r.ownerSVGElement,R=null!=e&&!("__preactattr_"in e));var l=h(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--H||(R=!1,i||d()),l}function h(e,t,n,o,r){var i=e,l=P;if(null==t&&(t=""),"string"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0))),i.__preactattr_=!0,i;if("function"==typeof t.nodeName)return U(e,t,n,o);if(P="svg"===t.nodeName||"foreignObject"!==t.nodeName&&P,(!e||!a(e,String(t.nodeName)))&&(i=u(String(t.nodeName),P),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0)}var _=i.firstChild,c=i.__preactattr_||(i.__preactattr_={}),p=t.children;return!R&&p&&1===p.length&&"string"==typeof p[0]&&null!=_&&void 0!==_.splitText&&null==_.nextSibling?_.nodeValue!=p[0]&&(_.nodeValue=p[0]):(p&&p.length||null!=_)&&v(i,p,n,o,R||null!=c.dangerouslySetInnerHTML),g(i,t.attributes,c),P=l,i}function v(e,t,n,o,r){var i,a,_,u,p=e.childNodes,s=[],f={},d=0,m=0,v=p.length,y=0,g=t?t.length:0;if(0!==v)for(var N=0;N<v;N++){var C=p[N],x=C.__preactattr_,w=g&&x?C._component?C._component.__k:x.key:null;null!=w?(d++,f[w]=C):(x||(void 0!==C.splitText?!r||C.nodeValue.trim():r))&&(s[y++]=C)}if(0!==g)for(var N=0;N<g;N++){_=t[N],u=null;var w=_.key;if(null!=w)d&&void 0!==f[w]&&(u=f[w],f[w]=void 0,d--);else if(!u&&m<y)for(i=m;i<y;i++)if(void 0!==s[i]&&l(a=s[i],_,r)){u=a,s[i]=void 0,i===y-1&&y--,i===m&&m++;break}u=h(u,_,n,o),u&&u!==e&&(N>=v?e.appendChild(u):u!==p[N]&&(u===p[N+1]?c(p[N]):e.insertBefore(u,p[N]||null)))}if(d)for(var N in f)void 0!==f[N]&&b(f[N],!1);for(;m<=y;)void 0!==(u=s[y--])&&b(u,!1)}function b(e,t){var n=e._component;n?S(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||c(e),y(e))}function y(e){for(e=e.lastChild;e;){var t=e.previousSibling;b(e,!0),e=t}}function g(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||p(e,o,n[o],n[o]=void 0,P);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||p(e,o,n[o],n[o]=t[o],P)}function N(e){var t=e.constructor.name;(j[t]||(j[t]=[])).push(e)}function C(e,t,n){var o,r=j[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),L.call(o,t,n)):(o=new L(t,n),o.constructor=e,o.render=x),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.__b=r[i].__b,r.splice(i,1);break}return o}function x(e,t,n){return this.constructor(e,n)}function w(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===M.syncComponentUpdates&&e.base?r(e):k(e,1,i)),e.__r&&e.__r(e))}function k(e,t,o,r){if(!e.__x){var i,l,a,u=e.props,c=e.state,p=e.context,s=e.__p||u,f=e.__s||c,h=e.__c||p,v=e.base,y=e.__b,g=v||y,N=e._component,x=!1;if(v&&(e.props=s,e.state=f,e.context=h,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(u,c,p)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(u,c,p),e.props=u,e.state=c,e.context=p),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!x){i=e.render(u,c,p),e.getChildContext&&(p=n(n({},p),e.getChildContext()));var U,L,T=i&&i.nodeName;if("function"==typeof T){var W=_(i);l=N,l&&l.constructor===T&&W.key==l.__k?w(l,W,1,p,!1):(U=l,e._component=l=C(T,W,p),l.__b=l.__b||y,l.__u=e,w(l,W,0,p,!1),k(l,1,o,!0)),L=l.base}else a=g,U=N,U&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),L=m(a,i,p,o||!v,g&&g.parentNode,!0));if(g&&L!==g&&l!==N){var E=g.parentNode;E&&L!==E&&(E.replaceChild(L,g),U||(g._component=null,b(g,!1)))}if(U&&S(U),e.base=L,L&&!r){for(var V=e,A=e;A=A.__u;)(V=A).base=L;L._component=V,L._componentConstructor=V.constructor}}if(!v||o?D.unshift(e):x||(d(),e.componentDidUpdate&&e.componentDidUpdate(s,f,h),M.afterUpdate&&M.afterUpdate(e)),null!=e.__h)for(;e.__h.length;)e.__h.pop().call(e);H||r||d()}}function U(e,t,n,o){for(var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,u=a,c=_(t);r&&!u&&(r=r.__u);)u=r.constructor===t.nodeName;return r&&u&&(!o||r._component)?(w(r,c,3,n,o),e=r.base):(i&&!a&&(S(i),e=l=null),r=C(t.nodeName,c,n),e&&!r.__b&&(r.__b=e,l=null),w(r,c,1,n,o),e=r.base,l&&e!==l&&(l._component=null,b(l,!1))),e}function S(e){M.beforeUnmount&&M.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?S(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,c(t),N(e),y(t)),e.__r&&e.__r(null)}function L(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function T(e,t,n){return m(n,e,{},!1,t,!1)}var M={},W=[],E=[],V=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,A=[],D=[],H=0,P=!1,R=!1,j={};n(L.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,"function"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),k(this,2)},render:function(){}});var I={h:t,createElement:t,cloneElement:o,Component:L,render:T,rerender:i,options:M};"undefined"!=typeof module?module.exports=I:self.preact=I}();
},{}],19:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],20:[function(require,module,exports){
window.addEventListener("DOMContentLoaded",function(e){if(document.getElementsByTagName("html")[0].classList.contains("terminal")){for(var t=document.querySelectorAll("a.dvz-t-allow"),o=t.length;o--;)t[o].removeAttribute("target");Array.prototype.forEach.call(document.querySelectorAll(".dvz-t-remove"),function(e){e.remove()})}});
},{}],21:[function(require,module,exports){
function Component(){}Component.prototype=Object.create(require("preact").Component.prototype),module.exports=Component;
},{"preact":18}],22:[function(require,module,exports){
arguments[4][21][0].apply(exports,arguments)
},{"dup":21,"preact":18}],23:[function(require,module,exports){
module.exports=require("preact").h;
},{"preact":18}],24:[function(require,module,exports){
var h=require("preact").h,hyperx=require("hyperx");module.exports=hyperx(h);
},{"hyperx":7,"preact":18}],25:[function(require,module,exports){
function Rooch(r){function e(r,e){s.on(r,function(r){return function(){return p.params=r,e(p,t)}})}function n(r){r(p,h)}function o(){return m=s(createLocation()),l=nanoraf(function(){f&&c&&window.performance.mark("rooch:renderStart");var r=s(createLocation());m=preact.render(r,w,m),f&&c&&(window.performance.mark("rooch:renderEnd"),window.performance.measure("rooch:render","rooch:renderStart","rooch:renderEnd"))}),h.prependListener("render",l),!1!==r.history&&(nanohistory(function(r){h.emit("pushState")}),h.prependListener("pushState",function(r){r&&window.history.pushState({},null,r),h.emit("render"),setTimeout(function(){scrollIntoView()},0)}),!1!==r.href&&nanohref(function(r){var e=r.href;e!==window.location.href&&h.emit("pushState",e)})),documentReady(function(){h.emit("DOMContentLoaded")}),m}function t(r,e){h.emit(r,e)}function a(r){var e=o();documentReady(function(){w=document.querySelector(r),assert.ok(w,"rooch.mount: could not query selector: "+r),m=preact.render(e,w)})}function i(r,e){p=e||{};var n=s(r);return assert.equal(),renderToString(n)}r=r||{};var u={default:r.defaultRoute||"/404",curry:!0},c=void 0===r.timing||r.timing,d="undefined"!=typeof window,f=d&&window.performance&&window.performance.mark,s=nanorouter(u),h=nanobus(),l=null,m=null,w=null,p={};return{toString:i,use:n,mount:a,router:s,route:e,start:o}}function scrollIntoView(){var r=window.location.hash;if(r)try{var e=document.querySelector(r);e&&e.scrollIntoView(!0)}catch(r){}}function createLocation(){return window.location.pathname.replace(/\/$/,"")+window.location.hash.replace(/^#/,"/")}var documentReady=require("document-ready"),nanohistory=require("nanohistory"),nanorouter=require("nanorouter"),preact=require("preact"),renderToString=require("preact-render-to-string").render,nanohref=require("nanohref"),nanoraf=require("nanoraf"),nanobus=require("nanobus"),assert=require("assert");module.exports=Rooch;
},{"assert":2,"document-ready":3,"nanobus":9,"nanohistory":10,"nanohref":11,"nanoraf":12,"nanorouter":13,"preact":18,"preact-render-to-string":17}],26:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("scrollMonitor",[],e):"object"==typeof exports?exports.scrollMonitor=e():t.scrollMonitor=e()}(this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var o=i(1),s=o.isInBrowser,n=i(2),r=new n(s?document.body:null);r.setStateFromDOM(null),r.listenToDOM(),s&&(window.scrollMonitor=r),t.exports=r},function(t,e){"use strict";e.VISIBILITYCHANGE="visibilityChange",e.ENTERVIEWPORT="enterViewport",e.FULLYENTERVIEWPORT="fullyEnterViewport",e.EXITVIEWPORT="exitViewport",e.PARTIALLYEXITVIEWPORT="partiallyExitViewport",e.LOCATIONCHANGE="locationChange",e.STATECHANGE="stateChange",e.eventTypes=[e.VISIBILITYCHANGE,e.ENTERVIEWPORT,e.FULLYENTERVIEWPORT,e.EXITVIEWPORT,e.PARTIALLYEXITVIEWPORT,e.LOCATIONCHANGE,e.STATECHANGE],e.isOnServer="undefined"==typeof window,e.isInBrowser=!e.isOnServer,e.defaultOffsets={top:0,bottom:0}},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){return c?0:t===document.body?window.innerHeight||document.documentElement.clientHeight:t.clientHeight}function n(t){return c?0:t===document.body?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight):t.scrollHeight}function r(t){return c?0:t===document.body?window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop}var h=i(1),c=h.isOnServer,a=h.isInBrowser,l=h.eventTypes,p=i(3),w=function(){function t(e,i){function h(){if(a.viewportTop=r(e),a.viewportBottom=a.viewportTop+a.viewportHeight,a.documentHeight=n(e),a.documentHeight!==p){for(w=a.watchers.length;w--;)a.watchers[w].recalculateLocation();p=a.documentHeight}}function c(){for(u=a.watchers.length;u--;)a.watchers[u].update();for(u=a.watchers.length;u--;)a.watchers[u].triggerCallbacks()}o(this,t);var a=this;this.item=e,this.watchers=[],this.viewportTop=null,this.viewportBottom=null,this.documentHeight=n(e),this.viewportHeight=s(e),this.DOMListener=function(){t.prototype.DOMListener.apply(a,arguments)},this.eventTypes=l,i&&(this.containerWatcher=i.create(e));var p,w,u;this.update=function(){h(),c()},this.recalculateLocations=function(){this.documentHeight=0,this.update()}}return t.prototype.listenToDOM=function(){a&&(window.addEventListener?(this.item===document.body?window.addEventListener("scroll",this.DOMListener):this.item.addEventListener("scroll",this.DOMListener),window.addEventListener("resize",this.DOMListener)):(this.item===document.body?window.attachEvent("onscroll",this.DOMListener):this.item.attachEvent("onscroll",this.DOMListener),window.attachEvent("onresize",this.DOMListener)),this.destroy=function(){window.addEventListener?(this.item===document.body?(window.removeEventListener("scroll",this.DOMListener),this.containerWatcher.destroy()):this.item.removeEventListener("scroll",this.DOMListener),window.removeEventListener("resize",this.DOMListener)):(this.item===document.body?(window.detachEvent("onscroll",this.DOMListener),this.containerWatcher.destroy()):this.item.detachEvent("onscroll",this.DOMListener),window.detachEvent("onresize",this.DOMListener))})},t.prototype.destroy=function(){},t.prototype.DOMListener=function(t){this.setStateFromDOM(t)},t.prototype.setStateFromDOM=function(t){var e=r(this.item),i=s(this.item),o=n(this.item);this.setState(e,i,o,t)},t.prototype.setState=function(t,e,i,o){var s=e!==this.viewportHeight||i!==this.contentHeight;if(this.latestEvent=o,this.viewportTop=t,this.viewportHeight=e,this.viewportBottom=t+e,this.contentHeight=i,s)for(var n=this.watchers.length;n--;)this.watchers[n].recalculateLocation();this.updateAndTriggerWatchers(o)},t.prototype.updateAndTriggerWatchers=function(t){for(var e=this.watchers.length;e--;)this.watchers[e].update();for(e=this.watchers.length;e--;)this.watchers[e].triggerCallbacks(t)},t.prototype.createCustomContainer=function(){return new t},t.prototype.createContainer=function(e){"string"==typeof e?e=document.querySelector(e):e&&e.length>0&&(e=e[0]);var i=new t(e,this);return i.setStateFromDOM(),i.listenToDOM(),i},t.prototype.create=function(t,e){"string"==typeof t?t=document.querySelector(t):t&&t.length>0&&(t=t[0]);var i=new p(this,t,e);return this.watchers.push(i),i},t.prototype.beget=function(t,e){return this.create(t,e)},t}();t.exports=w},function(t,e,i){"use strict";function o(t,e,i){function o(t,e){if(0!==t.length)for(E=t.length;E--;)T=t[E],T.callback.call(s,e,s),T.isOne&&t.splice(E,1)}var s=this;this.watchItem=e,this.container=t,this.offsets=i?i===+i?{top:i,bottom:i}:{top:i.top||u.top,bottom:i.bottom||u.bottom}:u,this.callbacks={};for(var d=0,f=w.length;d<f;d++)s.callbacks[w[d]]=[];this.locked=!1;var m,v,b,I,E,T;this.triggerCallbacks=function(t){switch(this.isInViewport&&!m&&o(this.callbacks[r],t),this.isFullyInViewport&&!v&&o(this.callbacks[h],t),this.isAboveViewport!==b&&this.isBelowViewport!==I&&(o(this.callbacks[n],t),v||this.isFullyInViewport||(o(this.callbacks[h],t),o(this.callbacks[a],t)),m||this.isInViewport||(o(this.callbacks[r],t),o(this.callbacks[c],t))),!this.isFullyInViewport&&v&&o(this.callbacks[a],t),!this.isInViewport&&m&&o(this.callbacks[c],t),this.isInViewport!==m&&o(this.callbacks[n],t),!0){case m!==this.isInViewport:case v!==this.isFullyInViewport:case b!==this.isAboveViewport:case I!==this.isBelowViewport:o(this.callbacks[p],t)}m=this.isInViewport,v=this.isFullyInViewport,b=this.isAboveViewport,I=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var t=this.top,e=this.bottom;if(this.watchItem.nodeName){var i=this.watchItem.style.display;"none"===i&&(this.watchItem.style.display="");for(var s=0,n=this.container;n.containerWatcher;)s+=n.containerWatcher.top-n.containerWatcher.container.viewportTop,n=n.containerWatcher.container;var r=this.watchItem.getBoundingClientRect();this.top=r.top+this.container.viewportTop-s,this.bottom=r.bottom+this.container.viewportTop-s,"none"===i&&(this.watchItem.style.display=i)}else this.watchItem===+this.watchItem?this.watchItem>0?this.top=this.bottom=this.watchItem:this.top=this.bottom=this.container.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===t&&void 0===e||this.top===t&&this.bottom===e||o(this.callbacks[l],null)}},this.recalculateLocation(),this.update(),m=this.isInViewport,v=this.isFullyInViewport,b=this.isAboveViewport,I=this.isBelowViewport}var s=i(1),n=s.VISIBILITYCHANGE,r=s.ENTERVIEWPORT,h=s.FULLYENTERVIEWPORT,c=s.EXITVIEWPORT,a=s.PARTIALLYEXITVIEWPORT,l=s.LOCATIONCHANGE,p=s.STATECHANGE,w=s.eventTypes,u=s.defaultOffsets;o.prototype={on:function(t,e,i){switch(!0){case t===n&&!this.isInViewport&&this.isAboveViewport:case t===r&&this.isInViewport:case t===h&&this.isFullyInViewport:case t===c&&this.isAboveViewport&&!this.isInViewport:case t===a&&this.isInViewport&&this.isAboveViewport:if(e.call(this,this.container.latestEvent,this),i)return}if(!this.callbacks[t])throw new Error("Tried to add a scroll monitor listener of type "+t+". Your options are: "+w.join(", "));this.callbacks[t].push({callback:e,isOne:i||!1})},off:function(t,e){if(!this.callbacks[t])throw new Error("Tried to remove a scroll monitor listener of type "+t+". Your options are: "+w.join(", "));for(var i,o=0;i=this.callbacks[t][o];o++)if(i.callback===e){this.callbacks[t].splice(o,1);break}},one:function(t,e){this.on(t,e,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<this.container.viewportTop,this.isBelowViewport=this.bottom>this.container.viewportBottom,this.isInViewport=this.top<this.container.viewportBottom&&this.bottom>this.container.viewportTop,this.isFullyInViewport=this.top>=this.container.viewportTop&&this.bottom<=this.container.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var t=this.container.watchers.indexOf(this),e=this;this.container.watchers.splice(t,1);for(var i=0,o=w.length;i<o;i++)e.callbacks[w[i]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}};for(var d=0,f=w.length;d<f;d++){var m=w[d];o.prototype[m]=function(t){return function(e,i){this.on.call(this,t,e,i)}}(m)}t.exports=o}])});
},{}],27:[function(require,module,exports){
function e(e){return e.replace(RegExp("^"+(e.match(/^(\t| )+/)||"")[0],"gm"),"")}function n(e){return(e+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(a){function c(e){var n=t[e.replace(/\*/g,"_")[1]||""],r=i[i.length-1]==e;return n?n[1]?(i[r?"pop":"push"](e),n[0|r]):n[0]:e}function o(){for(var e="";i.length;)e+=c(i[i.length-1]);return e}var l,g,s,p,u,m=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^```(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:\!\[([^\]]*?)\]\(([^\)]+?)\))|(\[)|(\](?:\(([^\)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(\-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,3})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*])/gm,i=[],h="",f=0,$={};for(a=a.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(e,n,r){return $[n.toLowerCase()]=r,""}).replace(/^\n+|\n+$/g,"");s=m.exec(a);)g=a.substring(f,s.index),f=m.lastIndex,l=s[0],g.match(/[^\\](\\\\)*\\$/)||(s[3]||s[4]?l='<pre class="code '+(s[4]?"poetry":s[2].toLowerCase())+'">'+e(n(s[3]||s[4]).replace(/^\n+|\n+$/g,""))+"</pre>":s[6]?(u=s[6],u.match(/\./)&&(s[5]=s[5].replace(/^\d+/gm,"")),p=r(e(s[5].replace(/^\s*[>*+.-]/gm,""))),">"===u?u="blockquote":(u=u.match(/\./)?"ol":"ul",p=p.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),l="<"+u+">"+p+"</"+u+">"):s[8]?l='<img src="'+n(s[8])+'" alt="'+n(s[7])+'">':s[10]?(h=h.replace("<a>",'<a href="'+n(s[11]||$[g.toLowerCase()])+'">'),l=o()+"</a>"):s[9]?l="<a>":s[12]||s[14]?(u="h"+(s[14]?s[14].length:"="===s[13][0]?1:2),l="<"+u+">"+r(s[12]||s[15])+"</"+u+">"):s[16]?l="<code>"+n(s[16])+"</code>":(s[17]||s[1])&&(l=c(s[17]||"--"))),h+=g,h+=l;return(h+a.substring(f)+o()).trim()}var t={"":["<em>","</em>"],_:["<strong>","</strong>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};module.exports=r;
},{}],28:[function(require,module,exports){
function trim(r){return r.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(r){return r.replace(/^\s*/,"")},exports.right=function(r){return r.replace(/\s*$/,"")};
},{}],29:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],30:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],31:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var c="",a=!1,l=["{","}"];if(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r)){c=" [Function"+(r.name?": "+r.name:"")+"]"}if(isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var p;return p=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(p,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0;return e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(e){return"[Circular]"}default:return e}}),s=n[t];t<i;s=n[++t])isNull(s)||!isObject(s)?o+=" "+s:o+=" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(!0===process.noDeprecation)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":30,"_process":19,"inherits":29}],32:[function(require,module,exports){
function Wayfarer(r){function e(r,e){if(assert.equal(typeof r,"string"),assert.equal(typeof e,"function"),r=r||"/",e.route=r,e&&e._wayfarer&&e._trie)n.mount(r,e._trie.trie);else{n.create(r).cb=e}return t}function t(r){assert.notEqual(r,void 0,"'route' must be defined");for(var e=new Array(arguments.length),t=1;t<e.length;t++)e[t]=arguments[t];var i=n.match(r);if(i&&i.cb){e[0]=i.params;var o=i.cb;return o.apply(o,e)}var u=n.match(a);if(u&&u.cb){e[0]=u.params;var f=u.cb;return f.apply(f,e)}throw new Error("route '"+r+"' did not match")}if(!(this instanceof Wayfarer))return new Wayfarer(r);var a=(r||"").replace(/^\//,""),n=trie();return t._trie=n,t.emit=t,t.on=e,t._wayfarer=!0,t}var assert=require("assert"),trie=require("./trie");module.exports=Wayfarer;
},{"./trie":33,"assert":2}],33:[function(require,module,exports){
function Trie(){if(!(this instanceof Trie))return new Trie;this.trie={nodes:{}}}var mutate=require("xtend/mutable"),assert=require("assert"),xtend=require("xtend");module.exports=Trie,Trie.prototype.create=function(e){function t(e,n){var o=r.hasOwnProperty(e)&&r[e];if(!1===o)return n;var s=null;return/^:|^\*/.test(o)?(n.nodes.hasOwnProperty("$$")?s=n.nodes.$$:(s={nodes:{}},n.nodes.$$=s),"*"===o[0]&&(n.wildcard=!0),n.name=o.replace(/^:|^\*/,"")):n.nodes.hasOwnProperty(o)?s=n.nodes[o]:(s={nodes:{}},n.nodes[o]=s),t(e+1,s)}assert.equal(typeof e,"string","route should be a string");var r=e.replace(/^\//,"").split("/");return t(0,this.trie)},Trie.prototype.match=function(e){function t(e,o){if(void 0!==o){var s=r[e];if(void 0===s)return o;if(o.nodes.hasOwnProperty(s))return t(e+1,o.nodes[s]);if(o.wildcard){try{n.wildcard=decodeURIComponent(r.slice(e).join("/"))}catch(r){return t(e,void 0)}return o.nodes.$$}if(o.name){try{n[o.name]=decodeURIComponent(s)}catch(r){return console.log("must throw"),t(e,void 0)}return t(e+1,o.nodes.$$)}return t(e+1)}}assert.equal(typeof e,"string","route should be a string");var r=e.replace(/^\//,"").split("/"),n={},o=t(0,this.trie);if(o)return o=xtend(o),o.params=n,o},Trie.prototype.mount=function(e,t){assert.equal(typeof e,"string","route should be a string"),assert.equal(typeof t,"object","trie should be a object");var r=e.replace(/^\//,"").split("/"),n=null,o=null;if(1===r.length)o=r[0],n=this.create(o);else{var s=r.splice(0,r.length-1),i=s.join("/");o=r[0],n=this.create(i)}mutate(n.nodes,t.nodes),t.name&&(n.name=t.name),n.nodes[""]&&(Object.keys(n.nodes[""]).forEach(function(e){"nodes"!==e&&(n[e]=n.nodes[""][e])}),mutate(n.nodes,n.nodes[""].nodes),delete n.nodes[""].nodes)};
},{"assert":2,"xtend":35,"xtend/mutable":36}],34:[function(require,module,exports){
"use strict";function forEachArray(e,t){for(var r=0;r<e.length;r++)t(e[r])}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function initParams(e,t,r){var n=e;return isFunction(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=xtend(t,{uri:e}),n.callback=r,n}function createXHR(e,t,r){return t=initParams(e,t,r),_createXHR(t)}function _createXHR(e){function t(){4===i.readyState&&setTimeout(o,0)}function r(){var e=void 0;if(e=i.response?i.response:i.responseText||getXml(i),X)try{e=JSON.parse(e)}catch(e){}return e}function n(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,h)}function o(){if(!c){var t;clearTimeout(d),t=e.useXDR&&void 0===i.status?200:1223===i.status?204:i.status;var n=h,o=null;return 0!==t?(n={body:r(),statusCode:t,method:l,headers:{},url:p,rawRequest:i},i.getAllResponseHeaders&&(n.headers=parseHeaders(i.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),a(o,n,n.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var s=!1,a=function(t,r,n){s||(s=!0,e.callback(t,r,n))},i=e.xhr||null;i||(i=e.cors||e.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var u,c,d,p=i.url=e.uri||e.url,l=i.method=e.method||"GET",f=e.body||e.data,m=i.headers=e.headers||{},R=!!e.sync,X=!1,h={body:void 0,headers:{},statusCode:0,method:l,url:p,rawRequest:i};if("json"in e&&!1!==e.json&&(X=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),i.onreadystatechange=t,i.onload=o,i.onerror=n,i.onprogress=function(){},i.onabort=function(){c=!0},i.ontimeout=n,i.open(l,p,!R,e.username,e.password),R||(i.withCredentials=!!e.withCredentials),!R&&e.timeout>0&&(d=setTimeout(function(){if(!c){c=!0,i.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)}},e.timeout)),i.setRequestHeader)for(u in m)m.hasOwnProperty(u)&&i.setRequestHeader(u,m[u]);else if(e.headers&&!isEmpty(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(i.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(i),i.send(f||null),i}function getXml(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function noop(){}var window=require("global/window"),isFunction=require("is-function"),parseHeaders=require("parse-headers"),xtend=require("xtend");module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest,forEachArray(["get","put","post","patch","head","delete"],function(e){createXHR["delete"===e?"del":e]=function(t,r,n){return r=initParams(t,r,n),r.method=e.toUpperCase(),_createXHR(r)}});
},{"global/window":5,"is-function":8,"parse-headers":15,"xtend":35}],35:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;
},{}],36:[function(require,module,exports){
function extend(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;
},{}],37:[function(require,module,exports){
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,o=Array(r.length);e<r.length;e++)o[e]=r[e];return o}return Array.from(r)}function init(){document.querySelector(".dvz-content").innerHTML="",app.mount(".dvz-content")}var html=require("rooch/html"),rooch=require("rooch"),app=rooch();module.exports=init,require("./plugins").forEach(function(r){return app.use(r)}),require("./views").forEach(function(r){return app.route.apply(app,_toConsumableArray(r))});
},{"./plugins":47,"./views":51,"rooch":25,"rooch/html":24}],38:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),_templateObject=_taggedTemplateLiteral(['\n      <div\n        class="w100 bgsc bgrn ',' bgblack"\n        onclick=','\n        style="\n          background-image: url(',");\n          height: 0;\n          padding-bottom: ",'%;\n        "\n      >',"</div>\n    "],['\n      <div\n        class="w100 bgsc bgrn ',' bgblack"\n        onclick=','\n        style="\n          background-image: url(',");\n          height: 0;\n          padding-bottom: ",'%;\n        "\n      >',"</div>\n    "]),_templateObject2=_taggedTemplateLiteral(['\n      <a\n        href="','"\n        target="_blank"\n        class="psa t0 l0 r0 b0"\n      ></a>\n    '],['\n      <a\n        href="','"\n        target="_blank"\n        class="psa t0 l0 r0 b0"\n      ></a>\n    ']),_templateObject3=_taggedTemplateLiteral(['\n        <div\n          class="psa z3"\n          style="\n            top: 50%;\n            left: 50%;\n            margin: -1.5rem 0 0 -1.5rem\n          "\n        >\n          <div\n            class="bgblack tcwhite  tac fs2"\n            style="\n              border-radius: 50%;\n              line-height: 3.2rem;\n              padding-left: 0.2rem;\n              height: 3rem;\n              width: 3rem;\n            "\n          >▶</div>\n        </div>\n      '],['\n        <div\n          class="psa z3"\n          style="\n            top: 50%;\n            left: 50%;\n            margin: -1.5rem 0 0 -1.5rem\n          "\n        >\n          <div\n            class="bgblack tcwhite  tac fs2"\n            style="\n              border-radius: 50%;\n              line-height: 3.2rem;\n              padding-left: 0.2rem;\n              height: 3rem;\n              width: 3rem;\n            "\n          >▶</div>\n        </div>\n      ']),_templateObject4=_taggedTemplateLiteral(['\n      <div class="curp psr">\n        ',"\n      </div>\n    "],['\n      <div class="curp psr">\n        ',"\n      </div>\n    "]),_templateObject5=_taggedTemplateLiteral(['\n      <iframe\n        width="100%"\n        height="100%"\n        class="psa z3"\n        src="https://www.youtube.com/embed/49wHQoJxYPo?rel=0&amp;controls=0&amp;showinfo=0&amp;autoplay=1"\n        frameborder="0"\n        allowfullscreen\n      ></iframe>\n    '],['\n      <iframe\n        width="100%"\n        height="100%"\n        class="psa z3"\n        src="https://www.youtube.com/embed/49wHQoJxYPo?rel=0&amp;controls=0&amp;showinfo=0&amp;autoplay=1"\n        frameborder="0"\n        allowfullscreen\n      ></iframe>\n    ']),_templateObject6=_taggedTemplateLiteral(['\n      <div class="ffmono">\n        ',"\n      </div>\n    "],['\n      <div class="ffmono">\n        ',"\n      </div>\n    "]),_templateObject7=_taggedTemplateLiteral(['\n      <div\n        class="pt1 ffmono fs0-75 op50 cbb1"\n        dangerouslySetInnerHTML=',"\n      ></div>\n    "],['\n      <div\n        class="pt1 ffmono fs0-75 op50 cbb1"\n        dangerouslySetInnerHTML=',"\n      ></div>\n    "]),_templateObject8=_taggedTemplateLiteral([' \n      <div class="sidebar ml1 pl3 pr1 psr z3">\n        <div\n          class="sidebar-content"\n          xstyle="transform: rotateY(','deg)"\n        >\n          <div\n            class="','"\n          >\n            <div class="psr sidebar-shadow">\n              ',"\n              ","\n              ","\n              ","\n              ","\n            </div>\n          </div>\n        </div>\n      </div>\n    "],[' \n      <div class="sidebar ml1 pl3 pr1 psr z3">\n        <div\n          class="sidebar-content"\n          xstyle="transform: rotateY(','deg)"\n        >\n          <div\n            class="','"\n          >\n            <div class="psr sidebar-shadow">\n              ',"\n              ","\n              ","\n              ","\n              ","\n            </div>\n          </div>\n        </div>\n      </div>\n    "]),html=require("rooch/html"),Component=require("rooch/component"),scrollMonitor=require("scrollmonitor"),md=require("snarkdown");module.exports=function(e){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.state={playing:!1},e.handleEnter=e.handleEnter.bind(e),e.handleLeave=e.handleLeave.bind(e),e.handleImageEnter=e.handleImageEnter.bind(e),e}return _inherits(n,e),_createClass(n,[{key:"componentDidMount",value:function(){this.watcher=scrollMonitor.create(this.base),this.watcher.fullyEnterViewport(this.handleEnter),this.watcher.partiallyExitViewport(this.handleLeave)}},{key:"componentWillUnmount",value:function(){this.watcher.destroy()}},{key:"handleEnter",value:function(){this.props.handleClipEnter&&this.props.handleClipEnter(this.props)}},{key:"handleLeave",value:function(){this.props.handleClipLeave&&this.props.handleClipLeave(this.props),this.state.playing&&this.setState({playing:!1})}},{key:"handleImageEnter",value:function(){!this.props.playing&&this.props.video&&this.setState({playing:!0})}},{key:"elImage",value:function(e){return html(_templateObject,this.props.noglow?"":"box-glowish",this.handleImageEnter,this.props.image,this.props.height/this.props.width*100,e)}},{key:"elLink",value:function(){return html(_templateObject2,this.props.link)}},{key:"elVideo",value:function(){var e=this.state.playing?this.elVideoEmbed():function(){return html(_templateObject3)}();return html(_templateObject4,this.elImage(e))}},{key:"elVideoEmbed",value:function(){return html(_templateObject5)}},{key:"elText",value:function(){return html(_templateObject6,this.props.text)}},{key:"elCaption",value:function(){return html(_templateObject7,{__html:md(this.props.caption)})}},{key:"render",value:function(){return html(_templateObject8,-1*(15*Math.random()+35),this.props.style,this.props.link?this.elLink():"",this.props.image&&!this.props.video?this.elImage():"",this.props.video?this.elVideo():"",this.props.text?this.elText():"",this.props.caption?this.elCaption():"")}}]),n}(Component);
},{"rooch/component":22,"rooch/html":24,"scrollmonitor":26,"snarkdown":27}],39:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function docHeight(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_templateObject=_taggedTemplateLiteral(['\n        <div style="color: #333">\n          ',"\n        </div>\n      "],['\n        <div style="color: #333">\n          ',"\n        </div>\n      "]),_templateObject2=_taggedTemplateLiteral(['\n      <div class="psa t0 l0 b0 ffmono p1 tar">\n        ',"\n      </div>\n    "],['\n      <div class="psa t0 l0 b0 ffmono p1 tar">\n        ',"\n      </div>\n    "]),_templateObject3=_taggedTemplateLiteral(['\n      <div \n        class="\n          code psf t0 l0 b0 r0 oh pen\n          '," ",'\n        "\n      >\n        <div\n          class="tcwhite psr l0 p1"\n          style="top: 100vh;"\n          onmouseenter=',"\n          data-container\n        >\n          ",'\n          <pre class="pl4 ffmono fs1 lh1-5"><code class="ffmono fs1 lh1-5">',"</code></pre>\n        </div>\n      </div>\n    "],['\n      <div \n        class="\n          code psf t0 l0 b0 r0 oh pen\n          '," ",'\n        "\n      >\n        <div\n          class="tcwhite psr l0 p1"\n          style="top: 100vh;"\n          onmouseenter=',"\n          data-container\n        >\n          ",'\n          <pre class="pl4 ffmono fs1 lh1-5"><code class="ffmono fs1 lh1-5">',"</code></pre>\n        </div>\n      </div>\n    "]),html=require("rooch/html"),Component=require("rooch/Component"),scroll=require("./raf-scroller");module.exports=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleEnter=e.handleEnter.bind(e),e.positionEl=e.positionEl.bind(e),e}return _inherits(t,e),_createClass(t,[{key:"componentWillUnmount",value:function(){this.elContainer=void 0,this.watcher&&this.watcher.destroy&&this.watcher.destroy()}},{key:"componentDidMount",value:function(){var e=window.scrollY||window.pageYOffset;this.elContainer=this.base.querySelector("[data-container]"),this.watcher=scroll(this.positionEl),this.positionEl(e)}},{key:"positionEl",value:function(e){if(this.elContainer){var t=e/(docHeight()-window.innerHeight)*100;this.elContainer.style.transform="translate3d(0, "+-1*t+"%, 0)"}}},{key:"handleEnter",value:function(e){this.props.handleEnter&&this.props.handleEnter()}},{key:"lineNumbers",value:function(){var e=this.props.content.split(/\r\n|\r|\n/).length,t=[].concat(_toConsumableArray(Array(e).keys())).map(function(e,t){return html(_templateObject,t+981)});return html(_templateObject2,t)}},{key:"render",value:function(){return html(_templateObject3,this.props.left?"left":"",this.props.right?"right":"",this.handleEnter,this.props.content?this.lineNumbers():"",this.props.content)}}]),t}(Component);
},{"./raf-scroller":43,"rooch/Component":21,"rooch/html":24}],40:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Footer(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return html(_templateObject,t.content.editor,t.content.design,t.content.misc)}var _templateObject=_taggedTemplateLiteral(['\n    <div class="psr z3 c8 co2 pt3 glow tac cbb1" sm="c12 co0">\n      <div class="c12 p1" sm="px0" style="font-style:italic;">\n        <a href="https://twitter.com/mattleising" target="_blank" class="tdn tcwhite"> tdn tchwite">Leising</a> covers market structure at Bloomberg News in New York.\n      </div>\n      <div class="x xw c12">\n        <div class="c4 p1" sm="c12 px0">\n          Editor<br>\n          ','\n        </div>\n        <div class="c4 p1" sm="c12 px0">\n          Design & Dev<br>\n          <a href="http://jon-kyle.com" target="_blank" class="tdn  tcwhite">','</a>\n        </div>\n        <div class="c4 p1" sm="c12 px0">\n          Assistance<br>\n          ',"\n        </div>\n      </div>\n    </div>\n  "],['\n    <div class="psr z3 c8 co2 pt3 glow tac cbb1" sm="c12 co0">\n      <div class="c12 p1" sm="px0" style="font-style:italic;">\n        <a href="https://twitter.com/mattleising" target="_blank" class="tdn tcwhite"> tdn tchwite">Leising</a> covers market structure at Bloomberg News in New York.\n      </div>\n      <div class="x xw c12">\n        <div class="c4 p1" sm="c12 px0">\n          Editor<br>\n          ','\n        </div>\n        <div class="c4 p1" sm="c12 px0">\n          Design & Dev<br>\n          <a href="http://jon-kyle.com" target="_blank" class="tdn  tcwhite">','</a>\n        </div>\n        <div class="c4 p1" sm="c12 px0">\n          Assistance<br>\n          ',"\n        </div>\n      </div>\n    </div>\n  "]),html=require("rooch/html"),md=require("snarkdown");module.exports=Footer;
},{"rooch/html":24,"snarkdown":27}],41:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_templateObject=_taggedTemplateLiteral(['\n      <div class="x">\n        <div class="vhmn100 c12 psr mb4 curd">\n          <div\n            class="pen psa t0 l0 lh1 ffdrukcond z1 hash"\n            style="margin-top: -14vh; font-size: 133vh;"\n          >\n            <div class="hashscroll">\n              0x7278d050619a624f84f51987149ddb439cdaadfba5966f7cfaea7ad44340a4ba\n            </div>\n          </div>\n          <div\n            class="pen psa t0 l0 r0 b0 z2 bgsc"\n            style="background-image: url(img/screen.png)"\n          ></div>\n          <div\n            class="glow tcwhite p4 psa t0 l0 r0 z2"\n            sm="p1"\n            style="font-size: 15vw; line-height: 1.15"\n          >\n            <div>The Ether</div>\n            <div>Thief</div>\n          </div>\n          <div class="x">\n            <div class="c12 x xafe vhmn100 usn curd z2 psr">\n              <div class="c6 co6 pb4 pl1 pr2 lh1-5 cbb1" sm="c12 co0 pr0 pl0 pb1">\n                <div style="max-width: 30rem">\n                  <div class="p1 ttu">\n                    <div>By <span><a href="https://twitter.com/mattleising" rel="noopener" class="tcwhite tdn" target="_blank">Matthew Leising</a></span></div>\n                    <time class="published-at time-based" datetime="2017-06-13T05:00:00-04:00" itemprop="datePublished">June 13, 2017</time>\n                  </div>\n                  <div class="p1 pr3" sm="pr1">\n                    A year ago a hacker stole $55 million of a virtual currency known as ether. This is the story of the bold attempt to rewrite that history.\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    '],['\n      <div class="x">\n        <div class="vhmn100 c12 psr mb4 curd">\n          <div\n            class="pen psa t0 l0 lh1 ffdrukcond z1 hash"\n            style="margin-top: -14vh; font-size: 133vh;"\n          >\n            <div class="hashscroll">\n              0x7278d050619a624f84f51987149ddb439cdaadfba5966f7cfaea7ad44340a4ba\n            </div>\n          </div>\n          <div\n            class="pen psa t0 l0 r0 b0 z2 bgsc"\n            style="background-image: url(img/screen.png)"\n          ></div>\n          <div\n            class="glow tcwhite p4 psa t0 l0 r0 z2"\n            sm="p1"\n            style="font-size: 15vw; line-height: 1.15"\n          >\n            <div>The Ether</div>\n            <div>Thief</div>\n          </div>\n          <div class="x">\n            <div class="c12 x xafe vhmn100 usn curd z2 psr">\n              <div class="c6 co6 pb4 pl1 pr2 lh1-5 cbb1" sm="c12 co0 pr0 pl0 pb1">\n                <div style="max-width: 30rem">\n                  <div class="p1 ttu">\n                    <div>By <span><a href="https://twitter.com/mattleising" rel="noopener" class="tcwhite tdn" target="_blank">Matthew Leising</a></span></div>\n                    <time class="published-at time-based" datetime="2017-06-13T05:00:00-04:00" itemprop="datePublished">June 13, 2017</time>\n                  </div>\n                  <div class="p1 pr3" sm="pr1">\n                    A year ago a hacker stole $55 million of a virtual currency known as ether. This is the story of the bold attempt to rewrite that history.\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ']),html=require("rooch/html"),Component=require("rooch/component");module.exports=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return _inherits(t,e),_createClass(t,[{key:"componentDidMount",value:function(){var e=this.base.querySelector(".hashscroll");e.style.display="none",setTimeout(function(){e.style.display="block"},1e3)}},{key:"render",value:function(){return html(_templateObject)}}]),t}(Component);
},{"rooch/component":22,"rooch/html":24}],42:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function navigation(e,n){function t(){e.handleClick&&e.handleClick({view:l?"narrative":"sidebar"})}var e=e||{},l="sidebar"===e.view;return html(_templateObject6,e.active?"icon-mobile-active":"",l?"icon-mobile-open":"",function(){return html(_templateObject7,t,l?"tr180":"")}())}function pullquote(e){var n=e.value.style&&e.value.style.indexOf("tac");return html(_templateObject8,e.value.style?e.value.style:"tcwhite span-glow",n>=0?"":"co2",e.value.text,e.value.cloud?cloud(e.value):"")}function code(e){return html(_templateObject9,e.value.content)}function cloud(e){return html(_templateObject10,e.cloudstyle||"",e.cloud)}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var l=n[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(n,t,l){return t&&e(n.prototype,t),l&&e(n,l),n}}(),_templateObject=_taggedTemplateLiteral(["\n      <div>\n        ","\n      </div>\n    "],["\n      <div>\n        ","\n      </div>\n    "]),_templateObject2=_taggedTemplateLiteral(['\n      <div\n        class="narrative copy fs1 p1 '," ",'"\n        onmouseenter=',"\n      >\n        ","\n        ","\n      </div>\n    "],['\n      <div\n        class="narrative copy fs1 p1 '," ",'"\n        onmouseenter=',"\n      >\n        ","\n        ","\n      </div>\n    "]),_templateObject3=_taggedTemplateLiteral(['\n      <div class="psr">\n        <div class="copy-container">\n          <div\n            class="\n              co2 c8 px1\n              ',"\n              ",'\n            "\n            sm="c12 co0 px0"\n          >\n            <p><span dangerouslySetInnerHTML=',"></span></p>\n          </div>\n        </div>\n        ","\n      </div>\n    "],['\n      <div class="psr">\n        <div class="copy-container">\n          <div\n            class="\n              co2 c8 px1\n              ',"\n              ",'\n            "\n            sm="c12 co0 px0"\n          >\n            <p><span dangerouslySetInnerHTML=',"></span></p>\n          </div>\n        </div>\n        ","\n      </div>\n    "]),_templateObject4=_taggedTemplateLiteral(['\n      <div class="usn curd ffdrukcond lh1 pt4 pb3 tcgrey tac" style="letter-spacing: 0; margin-left: -100vw; width: 300vw; font-size: 15vw">\n        ',"\n      </div>\n    "],['\n      <div class="usn curd ffdrukcond lh1 pt4 pb3 tcgrey tac" style="letter-spacing: 0; margin-left: -100vw; width: 300vw; font-size: 15vw">\n        ',"\n      </div>\n    "]),_templateObject5=_taggedTemplateLiteral(['\n      <div class="c12 py2 px1" sm="px0">\n        ',"\n      </div>\n    "],['\n      <div class="c12 py2 px1" sm="px0">\n        ',"\n      </div>\n    "]),_templateObject6=_taggedTemplateLiteral(['\n    <div\n      class="\n        pen psf l0 vw100 z4 icon-mobile\n        ',"\n        ",'\n      "\n      style="\n        bottom: 50vh;\n        margin-bottom: -1.875rem;\n      "\n    >\n      ',"\n    </div> \n  "],['\n    <div\n      class="\n        pen psf l0 vw100 z4 icon-mobile\n        ',"\n        ",'\n      "\n      style="\n        bottom: 50vh;\n        margin-bottom: -1.875rem;\n      "\n    >\n      ',"\n    </div> \n  "]),_templateObject7=_taggedTemplateLiteral(['\n      <div\n        class="\n          pea psa r0 b0 curp fs2 px1 py0-5\n          bgwhite tcblack box-glow\n        "\n        onclick=','\n      >\n        <div class="','">→</div>\n      </div>\n    '],['\n      <div\n        class="\n          pea psa r0 b0 curp fs2 px1 py0-5\n          bgwhite tcblack box-glow\n        "\n        onclick=','\n      >\n        <div class="','">→</div>\n      </div>\n    ']),_templateObject8=_taggedTemplateLiteral(['\n    <div\n      class="\n        pullquote fs3 px1 my4 lh1-25 ttu psr\n        ','\n      "\n      sm="px0 fs2"\n    >\n      <span class="','">',"</span>\n      ","\n    </div>\n  "],['\n    <div\n      class="\n        pullquote fs3 px1 my4 lh1-25 ttu psr\n        ','\n      "\n      sm="px0 fs2"\n    >\n      <span class="','">',"</span>\n      ","\n    </div>\n  "]),_templateObject9=_taggedTemplateLiteral(['\n    <div class="x xjc psr py3 px1 psr z2" md="co1 c10" sm="c12 co0">\n      <div class="glow">\n        <pre class="ffmono fs1 lh1-5"><code class="ffmono fs1 lh1-5">',"</code></pre>\n      </div>\n    </div>\n  "],['\n    <div class="x xjc psr py3 px1 psr z2" md="co1 c10" sm="c12 co0">\n      <div class="glow">\n        <pre class="ffmono fs1 lh1-5"><code class="ffmono fs1 lh1-5">',"</code></pre>\n      </div>\n    </div>\n  "]),_templateObject10=_taggedTemplateLiteral(['\n    <div\n      class="psa t0 l0 vh100 vw100 bgsct bgpc bgrn ','"\n      style="\n        background-image: url(img/cloud-','.png);\n        margin-top: -25vh;\n      "\n    ></div>\n  '],['\n    <div\n      class="psa t0 l0 vh100 vw100 bgsct bgpc bgrn ','"\n      style="\n        background-image: url(img/cloud-','.png);\n        margin-top: -25vh;\n      "\n    ></div>\n  ']),html=require("rooch/html"),h=require("rooch/h"),Component=require("rooch/Component"),xtend=require("xtend"),md=require("snarkdown"),Tracker=require("./tracker"),Clip=require("./clip"),Footer=require("./footer"),Narrative=function(e){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.blockTypes={pullquote:pullquote,code:code,hashscroll:e.hashscroll.bind(e),text:e.text.bind(e),tracker:e.tracker.bind(e)},e.block=e.block.bind(e),e.handleEnter=e.handleEnter.bind(e),e.handleClipEnter=e.handleClipEnter.bind(e),e.handleClipLeave=e.handleClipLeave.bind(e),e}return _inherits(n,e),_createClass(n,[{key:"handleEnter",value:function(e){this.props.handleEnter&&this.props.handleEnter()}},{key:"handleClipEnter",value:function(e){this.props.handleClipEnter&&this.props.handleClipEnter(e)}},{key:"handleClipLeave",value:function(e){this.props.handleClipLeave&&this.props.handleClipLeave(e)}},{key:"hasNavigation",value:function(){return this.props.navigation&&this.props.navigation.visible}},{key:"render",value:function(){return html(_templateObject,[this.hasNavigation()?navigation(this.props.navigation):"",this.container()])}},{key:"container",value:function(){return html(_templateObject2,this.props.left?"left":"",this.props.right?"right":"",this.handleEnter,this.content(),this.footer())}},{key:"footer",value:function(){return Footer({content:this.props.footer})}},{key:"block",value:function(e){if(e=e||{},this.blockTypes[e.type]&&"function"==typeof this.blockTypes[e.type])return this.blockTypes[e.type](e)}},{key:"text",value:function(e){e=e||{};var n=this.props.sidebar[e.value.sidebar];n&&(n=xtend(n,{handleClipEnter:this.handleClipEnter,handleClipLeave:this.handleClipLeave}));var t=e.value.text||e.value,l=t.replace(/(^([\S]+)\s([\S]+)\s([\S]+))/,'<span class="first-three">$1</span>');return html(_templateObject3,e.value.dropcap?"dropcap":"",e.value.oneline?"oneline":"",{__html:md(l)},n?h(Clip,n):"")}},{key:"hashscroll",value:function(e){return html(_templateObject4,e.value.text)}},{key:"tracker",value:function(){return html(_templateObject5,h(Tracker))}},{key:"content",value:function(){if(this.props.content&&this.props.content.length)return this.props.content.map(this.block)}}]),n}(Component);module.exports=Narrative;
},{"./clip":38,"./footer":40,"./tracker":44,"rooch/Component":21,"rooch/h":23,"rooch/html":24,"snarkdown":27,"xtend":35}],43:[function(require,module,exports){
"use strict";module.exports=function(n){if(!document.addEventListener)throw new Error("addEventListener is not supported");var e,t,i,o,r=0,u=!1;return e=function(){return r=window.scrollY||window.pageYOffset,i()},i=function(){if(!u)return t(o),u=!0},o=function(){return n(r),u=!1},window.addEventListener("scroll",e,!1),t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return window.setTimeout(n,1e3/60)}}()};
},{}],44:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),_templateObject=_taggedTemplateLiteral(['\n          <div\n            class="psa t0 tracker-event"\n            style="left: ','%"\n          >\n            ',"\n          </div>\n        "],['\n          <div\n            class="psa t0 tracker-event"\n            style="left: ','%"\n          >\n            ',"\n          </div>\n        "]),_templateObject2=_taggedTemplateLiteral(['\n      <div class="c12 psr py2">\n        <div class="x xw p1 psr" sm="p0">\n          <div class="c12">\n            <div\n              style="\n                padding-bottom: 25%\n              "\n            ></div>\n          </div>\n          <div class="psa t0 l0 r0 b0 x xjc xac">\n            <div class="ffdruk tcgrey" style="font-size: 25vw">\n              $','\n            </div>\n          </div>\n          <svg\n            class="db psa t0 l0 r0 b0"\n            style="overflow: visible;"\n            height="100%"\n            width="100%"\n            viewBox="0 0 '," ",'"\n          >\n            <path\n              vector-effect="non-scaling-stroke"\n              fill="none"\n              stroke="#fff"\n              stroke-width="1"\n              d="M','"\n            />\n          </svg>\n          <div class="psa t0 l0 blink lh1 p1 glow fwb">\n            LIVE \n          </div>\n          <div class="psr c12 fs0-75 ttu mt2 ffmono" sm="fs0-5">\n            ','\n          </div>\n        </div>\n        <div class="tac ffmono fs0-75 cbb1 pt2 psr z3" sm="fs0-5">\n          Price updated every fifteen minutes. Source: <a href="http://etherscan.io" target="_blank">Etherscan</a>.\n        </div>\n      </div>\n    '],['\n      <div class="c12 psr py2">\n        <div class="x xw p1 psr" sm="p0">\n          <div class="c12">\n            <div\n              style="\n                padding-bottom: 25%\n              "\n            ></div>\n          </div>\n          <div class="psa t0 l0 r0 b0 x xjc xac">\n            <div class="ffdruk tcgrey" style="font-size: 25vw">\n              $','\n            </div>\n          </div>\n          <svg\n            class="db psa t0 l0 r0 b0"\n            style="overflow: visible;"\n            height="100%"\n            width="100%"\n            viewBox="0 0 '," ",'"\n          >\n            <path\n              vector-effect="non-scaling-stroke"\n              fill="none"\n              stroke="#fff"\n              stroke-width="1"\n              d="M','"\n            />\n          </svg>\n          <div class="psa t0 l0 blink lh1 p1 glow fwb">\n            LIVE \n          </div>\n          <div class="psr c12 fs0-75 ttu mt2 ffmono" sm="fs0-5">\n            ','\n          </div>\n        </div>\n        <div class="tac ffmono fs0-75 cbb1 pt2 psr z3" sm="fs0-5">\n          Price updated every fifteen minutes. Source: <a href="http://etherscan.io" target="_blank">Etherscan</a>.\n        </div>\n      </div>\n    ']),_templateObject3=_taggedTemplateLiteral(["<div>loading</div>"],["<div>loading</div>"]),xhr=require("xhr"),html=require("rooch/html"),Component=require("rooch/component");module.exports=function(t){function e(){_classCallCheck(this,e);var t=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={options:{eth:"https://s3.amazonaws.com/bbg-gfx/2017-ether-thief/data.json"},dates:[{date:1451606400,event:"2016-01-01"},{date:1465776e3,event:"Dao Exploit"},{date:1483228800,event:"2017-01-01"}],current:{},timeout:1e4,start:1433116800,end:99999999999,eth:[]},t.refresh=t.refresh.bind(t),t}return _inherits(e,t),_createClass(e,[{key:"componentDidMount",value:function(){this.refresh(),this.frame=setInterval(this.refresh,this.state.timeout)}},{key:"componentWillUnmount",value:function(){clearInterval(this.frame)}},{key:"refresh",value:function(){var t=this;xhr(this.state.options.eth,function(e,n,s){e&&console.warn(e);try{var r=JSON.parse(s),i=r.historical[r.historical.length-1];t.setState({current:r.current,eth:r.historical,end:i.date})}catch(e){console.warn(e)}})}},{key:"container",value:function(){var t=this,e=.25*this.state.eth.length,n=this.state.eth.map(function(t,n){return n+" "+(e-Math.floor(10*t.weightedAverage*e))}).join(" L"),s=this.state.dates.map(function(e,n){var s=(e.date-t.state.start)/(t.state.end-t.state.start);return html(_templateObject,100*s,e.event)});return html(_templateObject2,this.state.current.result.ethusd,this.state.eth.length,e,n,s)}},{key:"render",value:function(){if(this.state.eth.length>0)return this.container();html(_templateObject3)}}]),e}(Component);
},{"rooch/component":22,"rooch/html":24,"xhr":34}],45:[function(require,module,exports){
"use strict";var app=require("./app");app();
},{"./app":37}],46:[function(require,module,exports){
"use strict";function content(e,t){e.content={options:{},copy:{},footer:{},sidebar:{}},t.on("DOMContentLoaded",function(){var n=aml.load(copy);e.content=xtend(e.content,n),t.emit("render","content loaded")})}
var xtend=require("xtend"),npath=require("path"),aml=require("archieml"),copy='{options}\n{}\n\n[+copy]\n\n{.text}\ndropcap: true\ntext: Summer colds are the worst, and Emin Gün Sirer had caught a wicked bug from his 1-year-old son. So it was with watering eyes and a stuffy nose that the associate professor of computer science at Cornell found himself working from his sickbed on Monday, June 13, 2016. Gün—everyone calls him Gün—couldn’t tear himself away from his laptop. He had another type of bug in his sights, a flaw in a line of computer code he feared put $250 million at risk of being stolen.\n{}\n\n{.text}\nsidebar: markets-cover\ntext: It wasn’t just any code. It was the guts of the newest breakthrough in software design related to blockchain, the novel combination of decentralized computing and cryptography that gave life to the virtual currency bitcoin in 2009. Since then, the promise of blockchain to transform industries from finance to health care has captured imaginations in corporate boardrooms and governments alike. Yet what the Turkish-born professor was exploring that Monday was the next leap forward from bitcoin, what’s known as the ethereum blockchain.\n{}\n\nRather than moving bitcoin from one user to another, the ethereum blockchain hosts fully functioning computer programs called smart contracts—essentially agreements that enforce themselves by means of code rather than courts. That means they can automate the life cycle of bond payments, say, or ensure that pharmaceutical companies can authenticate the sources of their drugs. Yet smart contracts are also new and mostly untested. Like all software, they are only as reliable as their coding—and Gün was pretty sure he’d found a big problem.\n\nIn an email sent to one of his graduate students, Philip Daian, at 7:30 p.m., Gün noted that the smart contract he was looking at might have a problem—on line 666. (They say the devil is in the details.) Gün feared the bug could allow a hacker to make unlimited ATM-like withdrawals from the millions, even if the attacker, who’d have needed to be an investor, had only $10 in his account.\n\n{.pullquote}\ncloud: 1\ntext: This was real money, a quarter of a billion dollars, their money, meant to build a better version of the world, and every cent was at risk\n{}\n\nThis staggering amount of money lived inside a program called a decentralized autonomous organization, or DAO. Dreamed up less than a year earlier and governed by a smart contract, the DAO was intended to democratize how ethereum projects are funded. Thousands of dreamers and schemers and developers who populate the cutting edge of computer science, most of them young, had invested in the DAO. This was real money, a quarter of a billion dollars, their money, meant to build a better version of the world, and every cent was at risk.\n\n{.text}\nsidebar: dao-moratorium\ntext: Gün, who wears his dark hair short and looks a decade younger than his 45 years, had already been tracking and publicizing flaws in the DAO’s design. A few weeks earlier, on May 27, along with two colleagues, he’d urged investors to stop buying into the DAO until security issues could be fixed. It had been too late, however, and the program went live the next day. Smart contracts such as the DAO are built to be entirely reliant on their code once released on the ethereum blockchain. That meant the DAO code couldn’t be fixed. Other blockchain experts—including Peter Vessenes, co-founder of the Bitcoin Foundation—had also pointed out security flaws in the smart contract, but Gün appears to be the first to pinpoint the flaw that put the money in jeopardy. The problem was the code was so new that no one knew what to expect—or even if there was actually a problem in the first place.\n{}\n\nGün had his doubts, too. This wasn’t even his job. He does this for fun. Daian didn’t think they’d found anything either. Over email, he said, “We might be up the creek ;).” Later, when Gün pointed to the error in line 666, Daian replied, “Don’t think so.”\n\nGün says,“We don’t sound the alarm bell every time we find a bug that seems suspicious.” Instead, he went to bed to try to kill his cold—the one bug he knew to be real. “I was too miserable to sort it out,” he says.\n\n{.text}\ncloud: cloud-1\ntext: Four days later, Christoph Jentzsch lay on the floor of his home office, taking deep breaths, trying not to panic.\n{}\n\n{.text}\nsidebar: friday-morning\ntext: It was Friday morning, and software developers all over the Western world were waking up to the news that the DAO, which Jentzsch had created, was being attacked. Gün had been right.\n{}\n\nJentzsch, who has dark hair and a perpetual five o’clock shadow, lives with his family in the Mittweida region of Germany, a rural spot not far from the Czech border. Mornings in the Jentzsch household are a whirlwind as he and his wife get their five children—age 2 to 9—fed and off to school. Yet today, after his brother Simon woke him with a call that the DAO was being hacked, Jentzsch had to ignore his familial duties. “You’ve got the kids,” he told his wife. “I have an emergency.”\n\n{.hashscroll}\ntext: 0x7278d050619a624f84f51987149ddb439cdaadfba5966f7cfaea7ad44340a4ba\n{}\n\n{.text}\ndropcap: true\ntext: This is the story of one of the largest digital heists in history. And while you may have heard last year that hackers breached Swift, the bank-to-bank messaging system, and stole $81 million from Bangladesh’s central bank, the DAO attack is in a different category altogether. It played out in front of anyone who cared to watch and couldn’t be stopped. Just as the global WannaCry ransomware attack in May laid bare weaknesses in computer operating systems, the DAO hack exposed the early frailties of smart-contract security and left many in the community shaken because they hadn’t found the bug in time. The aftermath would eventually pit good hackers against bad ones—the white hats vs. the black hats—in the strange and futuristic-sounding DAO Wars.\nte\n{}\n\nThe roots of the DAO belong to an idea Jentzsch borrowed from another internet-fueled phenomenon: crowdfunding. The 32-year-old Jentzsch, a theoretical physicist by training, and a few colleagues started Slock.it in 2015. As they considered how to fund the company, Jentzsch approached it as many had—sell a digital currency, effectively a token, to raise cash. But why should each new startup have to program its own initial coin offering? Jentzsch wondered. What if one huge fund ruled them all?\n\n{.text}\nsidebar: devcon\ntext: He introduced his idea to the world at DevCon 1 in London in November 2015. “What is the blockchain way of creating a company?” Jentzsch asked his audience. “Of course, it has to be a DAO.” It would work like this: Ether, a virtual currency like bitcoin, would be used to fund and develop applications on the ethereum blockchain—things such as making a music app similar to iTunes or a ride-sharing service along the lines of Uber. Investors would buy DAO tokens with their ether; the tokens would allow them to vote to fund projects they liked. If the app they backed made money, the token holder shared in the profit.\n{}\n\nIn the six months he spent creating the DAO, Jentzsch thought it would raise $5 million. From April 30 to May 28, the DAO crowdfunding pulled in $150 million. That’s when ether traded just below $12. As the price of ether rose in the following weeks to $20.75 the day before the attack, so too did the value of the DAO, putting a $250 million target on this thing Jentzsch had unknowingly brought into the world with a fatal, original sin.\n\n“Our hope was it would be the center of a decentralized sharing economy,” says Jentzsch, who now regrets not capping the amount raised. “For such a big experiment, it was way too early.” In the weeks after the attack, Jentzsch and the rest of the ethereum community would come to grips with their own crisis that, writ small, echoed the bank bailouts and government rescues of 2008. “It became too big to fail,” he says.\n\n{.pullquote}\ncloud: 2\ntext: “This is the craziest thing that’s ever happened to me. This is the craziest thing that’s almost ever happened to anyone”\n{}\n\nBut why would anyone invest in the DAO in the first place? It has something to do with the strain of digital libertarianism at the heart of the ethereum community, much like the set of beliefs that led to the birth of bitcoin. Think of bitcoin as the first global currency whose use can’t be stopped by governments or corporations; on top of that, bitcoin is almost impossible to hack. Ethereum, then, is another level beyond. It’s an uncensorable global computer. As amazing and unprecedented as that is, it’s also a bit terrifying. Brought to life, the DAO ended up staggering off the table and turning on the community that wanted it so badly.\n\nAccustomed to working into the night to stay in touch with colleagues in North America, Jentzsch blows off steam by jogging or kayaking on the nearby Zschopau River. Yet on that Friday morning, he had the more pressing task of pulling himself up off the floor and dealing with the attack. “I went into emergency mode: Don’t try to save the DAO,” he says. “No, it’s over.”\n\n{.hashscroll}\ntext: 0x6ebf8ba3bc80d9a95b64c6dfafcea060705865876ee9e14b50f5b75da364d11a\n{}\n\n{.text}\ndropcap: true\ntext: It was far from over.\n{}\n\n{.text}\ntext: Several hours later and half a world away from the Jentzsch household in Mittweida, Alex Van de Sande was waking up in his apartment in the Copacabana neighborhood of Rio de Janeiro. The baby-faced ethereum developer had been born in the small fishing village of Santa Cruz Cabrália in the Bahia region of Brazil and moved with his parents to Rio when he was about 3 years old. These days he’s known as “avsa” on Reddit and Twitter. After reaching for his phone to see why it was blowing up with Skype messages, he turned to his wife and said, “Remember when I was telling you about that huge unhackable pile of money?” She nodded. “It’s been hacked,” he told her.\n{}\n\n{.text}\ncloud: cloud-2\ntext: His first thought was to get his DAO tokens out. He owned about 100,000 of them, valued at about $15,000 at the time. He’s the lead designer of the Ethereum Wallet app, a program that allows him and anyone else to interact with the blockchain. Van de Sande scrambled to log in to it, but his password didn’t work. It was glitching, and as he worked to fix it, his panic subsided. He realized he shouldn’t be bailing on the DAO but trying to save it. And to do that, he needed Griff.\n{}\n\n{.text}\nsidebar: griff-green\ntext: Griff Green, who’s worked variously as a massage therapist in Los Angeles and a community organizer in Seattle, is one of only a handful of people in the world who holds a master’s degree in digital currencies. He got it online, natch, from the University of Nicosia. A self-described “dreamer,” the 32-year-old is the closest thing Ethereumville has to a mayor. Green knows everybody; in fact, he’d been the first to relay word of the attack to Simon, Jentzsch’s brother and a co-founder of Slock.it.\n{}\n\nGreen had been working for Slock.it for about six months by then and woke up that morning in the house belonging to Jentzsch’s mom in Mittweida. Jentzsch is one of nine children, so his mother had a spare bedroom where she could put Green up for a few days. Using his extensive contacts, Green started identifying as many people as he could who were interacting with the DAO—going so far as to ask strangers to send pictures or scans of their IDs—in an attempt to sort friend from foe.\n\nAnd then something strange happened: The attack stopped working. In the six hours since the attack began, the thief had managed to steal 30 percent of the DAO’s 12 million ether—which that day equaled about $55 million. “We don’t even understand why the guy had stopped,” says Van de Sande.\n\nNow Green raced to protect the remaining 70 percent of the DAO the attacker hadn’t stolen.\n\nOnce Van de Sande got in touch with Green in Germany, along with two or three others, the foundation was laid for what would become known as the Robin Hood group—white hat hackers who’d devise a bold good-guy plan to drain the remaining DAO. To save the DAO, they’d have to steal the remaining ether, then give it back to its rightful owners.\n\nAnd yet as they scrambled that Friday, qualms emerged within the group. “What does it even mean to hack something?” Van de Sande asks. No one knew if what they were about to do was legal. Also, wouldn’t their hack look just as bad as the theft they were trying to stop? Then there were the practical issues. “Who pushes the button?” he remembers wondering. Doing so would initiate their counterattack and alert the community. “Someone has to push the button.”\n\nThe price of ether the night before the attack had hit an all-time high of just above $20. News of the hack sent it tumbling to $15 by the end of Friday, wiping out almost a half-billion dollars in market value. At that price, the DAO still held $125 million, and the Robin Hood group worried the attack would resume. They might be the only line of defense if it did, so Van de Sande agreed to use his DAO tokens to fuel their counterattack, thereby becoming a public face of the group.\n\nAt this point, it might help to think of the DAO as the spacecraft in *Alien* after Ripley initiates the self-destruct sequence. To flee, she’s forced to use an escape pod. DAO investors had to initiate a similar sequence to deploy escape pods that would allow them to get their ether out of the DAO. The code that dictated the escape pods’ behavior is where the bug lived, so to steal the remaining DAO funds the Robin Hood group would have to be in a pod to exploit the flaw—and because of the way Jentzsch wrote the DAO, they had only a short window of time and just a few pods to choose from.\n\nA few minutes before launching the attack, Van de Sande joked on the group’s Skype chat, “Let’s go rob a bank!” No one laughed. “Not everyone really appreciated the humor,” he says.\n\nIn his Copacabana apartment, Van de Sande readied to push the button on his laptop. Then, suddenly, he lost his internet connection. His router was down. “I was like, What the f--- is going on here?” he says. He had less than 30 minutes left to execute the Robin Hood hack. He frantically called NET, his Brazilian internet service provider, but couldn’t get past the automated customer service experience. He says the robotic voice told him, “We see there’s an internet issue in your neighborhood.” The irony was not lost on him: Here he was trying to steal millions of dollars from a robot but was being waylaid by another robot.\n\n“Then we missed,” he says. The window closed. He went from the high of feeling like they were about to come to the rescue of the vulnerable DAO to the crushing low of having their international connection severed by NET’s breakdown. He took his dog, Sapic—named after the one in Pedro Almodóvar’s *All About My Mother*—for a walk, then crawled into bed, defeated.\n\nThe next morning was Saturday, and Van de Sande tried to reconvene the Robin Hood group to infiltrate another escape pod. But folks were busy and couldn’t get together. “We felt like the worst hackers in history,” Van de Sande says. “We were foiled by bad internet and family commitments.”\n\n{.hashscroll}\ntext: 0xf8c516b7eed2805faa4448f5d378a1b4c409f3a9c59c225bf25581669d4a7e1b\n{}\n\n{.text}\ndropcap: true\ntext: Who, exactly, were they at war with?\n{}\n\n{.text}\nsidebar: hacker-qr\ntext: No one really knows, but there are some clues. One address the attacker used is <code class="glow wrap">0xF35e2cC8E6523d683eD44870f5B7cC785051a77D</code>. Got that? Like everything else in a blockchain, a user’s address is an anonymous string of characters. But every address leaves behind a history on the blockchain that’s open for examination. Not that it makes sense to 99.9 percent of humankind, but Green gets it.\n{}\n\nTo pull off his heist, the attacker needed to create a contract that would interact with the DAO. He did so on June 15 and deployed it in the early morning hours two days later, according to Green. Once activated, the attack contract started sending about $4,000 worth of ether through the attacker’s account every three or four minutes to drain the DAO.\n\n{.text}\nsidebar: shapeshift\ntext: But where did the original money to fund the attack come from? To interact with the ethereum blockchain, every contract must be funded by an amount of ether. This attack contract was funded by two addresses, but tracing it further back becomes tricky. That’s because the second address used an exchange called ShapeShift  to send 52 ether into its account on June 14. ShapeShift doesn’t collect any information on its users and says it turns one virtual currency, such as bitcoin, into another, like ether, in less than 10 seconds. While there are valid reasons for using ShapeShift, it’s also a great way to launder digital assets and cover your tracks.\n{}\n\nAfter the attack contract stopped working, the thief needed to deploy it again, says Green. He tried but failed, and after a few more transactions, the hack whimpered to an end. (One possible reason the attack stopped, Green says, is that the hacker’s tokens became corrupted, which means he had no way to exploit the bug.)\n\n{.pullquote}\ncloud: 3\ntext: “I’m absolutely amazed. Why has no one traced this back and found out who did it?”\n{}\n\nWe know this limited amount of one-sided information from the blockchain’s public record. Digital asset exchanges see both sides. An internal investigation by one such exchange concluded that the DAO attacker was likely part of a group, not a lone wolf, based in Switzerland, according to an executive there who wouldn’t speak on the record or allow the company’s name to be used. Exchanges are in the unique position of being able to analyze the trading activity of their customers because they know who they are, even if they’re anonymous on the blockchain. The executive says the exchange shared the analysis with the Boston office of the FBI, though there’s been no further contact since October of last year.\n\nCornell’s Gün says he also spoke to the Boston office of the FBI—and to agents in the New York office and to the New York State Attorney General’s Office. “It’s very difficult to coordinate an attack of this kind without leaving breadcrumbs behind,” Gün says. He encouraged the FBI to look at the ethereum testnet, where programmers can run their code in a safe environment to work out kinks. The attacker wouldn’t just launch such a complicated hack without testing it, Gün says he told federal officials, and the feds might be able to get clues to his identity there. Gün says he also pointed them to addresses linked to the attacker, such as the one described above, that were listed by his grad student Daian on his blog. (The FBI declined to comment.)\n\n“I’m absolutely amazed. Why has no one traced this back and found out who did it?” asks Stephan Tual, the third co-founder of Slock.it. “It still bugs me to this day, because what that person has done is incredibly unethical.”\n\n{.hashscroll}\ntext: 0xa19a746ec9e2a494e927b648eb77399afee47887fe2d494fd3018d2475389343\n{}\n\n{.text}\ndropcap: true\ntext: On Tuesday, four days after the initial attack, the hacker returned and somehow resumed the heist.\n{}\n\nThe Robin Hood group had feared this moment would come and was ready. Early Sunday morning they’d finally managed to convene online and successfully infiltrate an escape pod, but had held off their counterattack. Now they had no choice.\n\nOne strike against the group was their distance from one another—one in Rio, others scattered about Europe. (Some of the group’s members didn’t want to be identified for this story.) It was important that they coordinate their activities because, like in *Charlie’s Angels*, they all had different specialties: Green the community organizer, Van de Sande the public face, others who wrote the Robin Hood group attack contracts. So Van de Sande needed to be walked through the step-by-step hacking process they were about to unleash, because that wasn’t his area of expertise.\n\n“I’ll be honest, I was excited,” Green says. “This is the craziest thing that’s ever happened to me. This is the craziest thing that’s almost ever happened to anyone.”\n\nWhether it was legal remains an unanswered question.\n“You literally have cyber ninjas warring on the blockchain,” says Vessenes, the programming expert. “What they’re doing is almost certainly illegal, but they’re claiming it’s for the greater good.”\n\n\n{.text}\nsidebar: dao-drain-tweet\ntext:And now it was Van de Sande’s job to let the community know that the Robin Hood group counterattack was benign. He took to Twitter, where he wrote “DAO IS BEING SECURELY DRAINED. DO NOT PANIC.”\n{}\n\nA nod to the classic *Hitchhiker’s Guide to the Galaxy*, his plea to not panic was met with all the snark and real-life concern Twitter can handle. “NOTHING SAYS DO NOT PANIC LIKE ALL CAPS,” one user responded. “#RealLife is more exciting than #MrRobot !!” tweeted another. Yet as the Robin Hood group attack gained steam, they noticed something strange and worrisome—the attacker was with them in every escape pod.\n\n“We escaped the mother ship, but now we’re alone in space with the alien we were trying to escape,” says Van de Sande. This was a big problem. Because of how Jentzsch wrote his code, the Robin Hood group would have to wait several weeks before they could secure the ether they recovered. Yet if the attacker was in that escape pod with the group, he could just follow them—what’s known as a stalking attack. If the hacker stalked the Robin Hood group, the ether wasn’t really safe after all.\n\n“The game only ends when one of these parties doesn’t show up to fight,” Van de Sande says. This, in essence, is the heart of the DAO Wars, the never-ending battle that would have to be waged to keep the recovered ether safe. If only there were a way to reverse the theft once and for all.\n\n{.hashscroll}\ntext: 0x9da6130a71d4af1d03db94b2594defd8210b76c481d98a4477f77530fc4a78e1\n{}\n\n{.text}\ndropcap: true\nsidebar: weeks-since\ntext: What happened next is one of the strangest and most contentious episodes in blockchain’s early history.\n{}\n\nThe morning of July 20 dawned cool and clear in Ithaca, N.Y., the home of Cornell. A weeklong ethereum boot camp on campus had brought developers and programmers from all over the world to town. The mood was anxious, but not because the workshops were about to begin. This was the day the ethereum community would decide to rewrite the past.\n\n{.text}\ntext: The weeks since the DAO hack had been filled with acrimonious debate as developers, coders, investors, and other community members considered their options to undo the theft. As the Robin Hood group battled the attacker mostly in private, a public debate was raging. The white hat hackers weren’t the only ones trying to save the DAO. Jentzsch worked almost around the clock, fielding hundreds of requests from DAO investors on what they should do. Vitalik Buterin, 23, who created the ethereum blockchain before he was 20, became a focal point as he led the community through their options.\n{}\n\n{.text}\nsidebar: weeks-reddit\ntext: In short, what they could do was change the ethereum blockchain to fix the DAO, but only if they got a majority of computers running the network to agree to a software update. Pull that off, and it’s as though the attack never happened.\n{}\n\n{.text}\nsidebar: week-tweet-1\ntext: This is known as a hard fork. The decision stirred such strong reactions that it remains controversial a year later, both within the ethereum community and with bitcoin users who insist a blockchain’s history is never to be tampered with. In an interview in October, Buterin was unapologetic about pushing for the change.\n{}\n\n{.text}\nsidebar: week-tweet-2\ntext: “Some bitcoin users see the hard fork as in some ways violating their most fundamental values,” said Buterin, who didn’t respond to requests to speak specifically about this story. “I personally think these fundamental values, pushed to such extremes, are silly.”\n{}\n\n{.text}\nsidebar: hard-fork\ntext: Within the ethereum community, at least, Buterin’s views won the day, and computer nodes all over the world accepted the fork. Contained in block 1,920,000, the fix to the DAO was simple and did only one thing—if you had ether invested in it, you could now get it out.\n{}\n\nBut why hadn’t the attacker made off with his money? It had been more than a month. The same code that exposed the DAO to the theft, in the end, enabled the ether to be returned. Everything to do with the DAO is a parameter: rules, if-then statements, and more rules that are all finalized before the program is set loose. One of these parameters stated that anyone wanting to get their ether out of the DAO had to wait a certain amount of time—27 days after the initial request, then another seven days.\n\n{.pullquote}\ncloud: 1\ntext: “We did everything to avoid this, but now we’re being dragged back into this fight”\n{}\n\nThis fail-safe, written by Jentzsch, applied to the attacker as well. So even though somebody had effectively robbed a bank, he then had to wait 34 days before crossing the street to make his getaway. While he was waiting, the money was stolen back. A month after the original heist, the ether thief now had nothing to show for his caper.\n\n{.text}\nsidebar: fork-tweet\ntext: Back on the Cornell campus, ethereum boot camp attendees celebrated. The next day, Gün brought Champagne to the session he was teaching. He’d pasted makeshift labels on the Chandon bottles with a picture of the utensil that said, “Congratulations on the successful fork.”\n{}\n\nThen something else unexpected happened. The original ethereum blockchain, the one with the DAO attack in it, kept growing. Imagine a hard fork is a branch of a tree that sprouts in a different direction at the end of the main limb. The end of that limb is supposed to wither after a hard fork, but here it continued to grow as a small group of users continued to process transactions on that version of the blockchain. Instead of dying, this became a second form of ethereum, quickly dubbed ethereum classic, complete with a digital currency that now had value. Even in the science fiction world of blockchain, this was an unprecedented turn of events. It meant the DAO attacker suddenly had about 3.6 million ethereum classic coins in his DAO account, known as the DarkDAO, which were slowly gaining in value. The Robin Hood group held about 8.4 million, because in this parallel universe they still controlled 70 percent of the DAO funds they had recovered.\n\n{.text}\nsidebar: grayscale\ntext: The Robin Hood group couldn’t believe it. “We did everything to avoid this, but now we’re being dragged back into this fight,” Van de Sande says.\n{}\n\nNow, the bitcoin supporters who viewed the hard fork as a violation of the core values of blockchain could back up their belief by buying ethereum classic. That’s exactly what entrepreneur Barry Silbert, a heavyweight in bitcoin circles, did. “Keep in mind, the original chain is ethereum classic,” he says. “The fork is ethereum.” Putting his money where his mouth is, Silbert’s firm, Grayscale Investments, recently issued an investment thesis outlining the benefits to ethereum classic over ethereum. A section heading sums up the rationale: “The DAO and the Death of Principles.”\n\nAlexis Roussel, co-founder of Bity.com, a digital currency broker in Switzerland, still marvels at the aftereffects of the hard fork and the wild world of the blockchain. “This is something that doesn’t happen in traditional finance,” he says. “If something happens with Apple, you don’t suddenly have a clone of Apple.”\n\n{.hashscroll}\ntext: 0x65eb4235123ee46ba5aefe22efe7728bb3e34c0cedb7f2e364f3cc761752d6a8\n{}\n\n{.text}\ndropcap: true\ntext: It’s been about a year since the DAO attack, enough time to take stock of what went wrong.\n{}\n\nVan de Sande is eager to move on. “It was really just a blip,” he says. “We are ready to move past it and leave the DAO story behind us.”\n\nGreen, who’s organizing an ethereum conference at this summer’s Burning Man festival in the Nevada desert, has kept a sense of humor about it. “The Robin Hood group was just a s--- show,” he says with a laugh. “I hope the movie portrays it better than it actually was.”\n\nAs for the bug itself, apparently many smart people looked at the code before Gün but missed one major flaw. The order of commands in the code allowed DAO token holders to withdraw any profit they’d made from their investments. It reads “withdrawRewardFor(msg.sender)” and adds, almost improbably, a note to anyone reading the code that says, “be nice, and get his rewards.” That’s line 667—let’s call it “The Neighbor of the Beast Bug.” If the withdraw line had come after these lines:\n\n{.code}\ncontent: totalSupply -= balances[msg.sender];\nbalances[msg.sender] = 0;\npaidOut[msg.sender] = 0;\nreturn true;\n:end\n{}\n\nthe attack wouldn’t have been possible, Jentzsch says. But if the code had been in the correct order, the reward parameter wouldn’t have worked. As for the note, this line of code was meant to allow investors to withdraw any profit—“Reward”—their investments had earned. Instead it became one of the biggest backdoors in hacking history. It would have been better to not pay rewards during the split function from the DAO, what we’ve been referring to here as the escape pods, according to Jentzsch.\n\nAnother decision he made when he had no idea of the bug shows how quirky and unforgiving code can be. “If the capital ‘T’ in line 666 had been a small ‘t,’ that would also have prevented the hack,” he says.\n\nJentzsch has many regrets but insists no one was aware of the specific problems in lines 666-667 (other observers had pointed to flaws in other lines, just not here). Had more people looked, “it would have made no difference at all,” he says. “If you don’t know what to look for in a security audit, you won’t find it.”\n\nEven Gün, who had it in his grasp, let it go. “I still missed it,” he says. Green’s emotions are still raw related to Gün. “I actually got really pissed at him about this,” Green says. “He started bragging about how he found the bug.” He adds that it was “very irresponsible of him to not tell anyone of his inkling.” Still, Green “respects the hell out of Gün” and says they’ve since made amends.\n\nAsked to recount that night last June as he lay sick in bed, Gün says, “I came away from this thinking there’s potentially an issue.” But he’d consulted Daian, his grad student (“whom I trust”). Daian had said it’s “not exploitable.” Gün says that had he been certain of the danger, “I would have told people.”\n\nIn a blog post that explained the mechanics of the DAO heist Daian published the night of the attack, he gave a shoutout to his professor in the acknowledgments. “Gün, we were so damn close—sorry it wasn’t quite enough this time :),” Daian wrote.\n\n\n{.tracker}\nlive: true\n{}\n\n{.text}\ntext: As for the attacker (whoever he or she or they are) and the ethereum classic booty, Gün says, “Great, wonderful, he should cash out.” The hard fork proved it wasn’t just the DAO that needed to be fixed, but the ethereum blockchain itself. He says: “The fault lies somewhere on the system side as well.”\n{}\n\nBut the fear that smart contracts are too clever by half and that by extension so is the ethereum blockchain itself—prevalent in the days following the DAO attack—has dissipated. At least that’s the market’s verdict, judging by the price of ether. After the attack, it traded from $10 to $12 for about nine months. Then in March it took off; it’s valued at $341.19 as of June 12. (That would have valued the DAO at $4.1 billion, but let’s not even go there.)\n\nEthereum classic has risen as well, and it now trades for $18.71. Both versions of ether remain viable, in other words. The thief holds one; the revisionists, the other. Going forward, the choice is really: Whom would you rather believe?\n\nSince the hard fork, the attacker ended up making off with his ethereum classic. That means he got away with about $67.4 million, assuming the stash hasn’t been sold. Not too shabby, <code class="glow wrap">0xF35e2cC8E6523d683eD44870f5B7cC785051a77D</code>.\n[]\n\n{sidebar}\n{sidebar.dao-moratorium}\nimage: img/dao-moratorium.png\nstyle: co2 c8\nheight: 768\nwidth: 1024\nlink: http://hackingdistributed.com/2016/05/27/dao-call-for-moratorium/\ncaption: The blog post where Gün and two colleagues called for a halt to investing in the DAO.\n{}\n{sidebar.friday-morning}\nimage: img/friday-morning.png\nheight: 306\nwidth: 1360\nlink: https://www.reddit.com/r/ethereum/comments/4oi2ta/i_think_thedao_is_getting_drained_right_now/\ncaption: A thread on Reddit: one of the first public notices that the DAO was being attacked.\n{}\n{sidebar.devcon}\nimage: img/devcon.jpg\nheight: 720\nwidth: 1280\nvideo: 49wHQoJxYPo\ncaption: Jentzsch introduces the world to his idea for a DAO in London in 2015.\n{}\n{sidebar.griff-green}\nimage: img/griff-green.png\nheight: 472\nwidth: 1288\nlink: https://www.linkedin.com/in/griffgreen/\ncaption: Green holds a master’s degree in digital currencies from the University of Nicosia.\n{}\n{sidebar.shapeshift}\nimage: img/shapeshift.png\nstyle: co2 c8 mt4\nheight: 800\nwidth: 1200\nlink: https://info.shapeshift.io/about\n{}\n{sidebar.hacker-qr}\nimage: img/etherscan.png\nstyle: c8 co2\nheight: 700\nwidth: 1000\ncaption: A link to the activity of one of the DAO attacker\'s smart contracts\nlink: https://etherscan.io/address/0xf35e2cc8e6523d683ed44870f5b7cc785051a77d\n{}\n{sidebar.dao-drain-tweet}\nimage: img/dao-drain-tweet.jpg\nnoglow: ture\nstyle: c8 co2\nheight: 1423\nwidth: 1274\nlink: https://twitter.com/avsa/status/745313647514226688\ncaption: avsa\'s tweet to tell the world the good guys were now draining the DAO\n{}\n{sidebar.weeks-since}\nimage: img/coindesk-weeks-since.png\nheight: 2048\nwidth: 1774\nstyle: c8\nlink: http://www.coindesk.com/dao-can-keep-becoming-next-mt-gox/\n{}\n{sidebar.weeks-reddit}\nimage: img/week-reddit.png\nheight: 342\nwidth: 1512\nstyle: c8 co3 mt1\nlink: https://www.reddit.com/r/ethereum/comments/4oj7ql/personal_statement_regarding_the_fork/d4d1vir/\n{}\n{sidebar.week-tweet-1}\nimage: img/week-tweet-1.png\nstyle: co6 c6\nheight: 1270\nwidth: 1350\nlink: https://twitter.com/fluffypony/status/870555830629879810\n{}\n{sidebar.week-tweet-2}\nimage: img/week-tweet-2.png\nstyle: co1 c7\nheight: 802\nwidth: 1268\nlink: https://twitter.com/adam3us/status/870959237756833794\n{}\n{sidebar.hard-fork}\nimage: img/hard-fork.png\nstyle: co2 c8\nheight: 800\nwidth: 800\nlink: https://blog.ethereum.org/2016/07/20/hard-fork-completed/\ncaption: A tiny fraction of the debate the hard fork created\n{}\n{sidebar.fork-tweet}\nimage: img/fork-tweet.png\nstyle: co1 c10\nheight: 1180\nwidth: 1270\nlink: https://twitter.com/avsa/status/756229875271278592\ncaption: Ethereum supporters, including its creator Vitalik Buterin (at left in right photo) celebrate the completed hard fork.\n{}\n{sidebar.grayscale}\nimage: img/grayscale.jpg\nstyle: co3 c6\nheight: 792\nwidth: 612\nlink: https://grayscale.co/wp-content/uploads/2017/06/Grayscale-Ethereum-Classic-Investment-Thesis-May_2017.pdf\ncaption: The investment thesis for ethereum classic as outlined by Barry Silbert’s Grayscale Investments LLC (PDF).\n{}\n{sidebar.markets-cover}\nstyle: co2 c8 mw100\nimage: img/markets-cover.jpg\nheight: 783\nwidth: 612\ncaption: This story appears in the June/July 2017 issue of *Bloomberg Markets*. [Subscribe now](https://w1.buysub.com/pubs/MK/BMK/BMK_landing.jsp?cds_page_id=199508&cds_mag_code=BMK&id=1496783292656&lsid=71571608126013951&vid=1).\nlink: https://w1.buysub.com/pubs/MK/BMK/BMK_landing.jsp?cds_page_id=199508&cds_mag_code=BMK&id=1496783292656&lsid=71571608126013951&vid=1\n{}\n{}\n\n{footer}\ntext: [Leising](https://twitter.com/mattleising) covers market structure at Bloomberg News in New York.\ndesign: Jon-Kyle Mohr\neditor: Joel Weber\nmisc: Greg Farrell\n{}\n\ncode:\n  // Move ether and assign new Tokens\n  uint fundsToBeMoved =\n    (balances[msg.sender] * p.splitData[0].splitBalance) /\n    p.splitData[0].totalSupply;\n\n    if (p.splitData[0].newDAO.createTokenProxy.value(fundsToBeMoved)(msg.sender) == false)\n      throw;\n\n  // Assign reward rights to new DAO\n  uint rewardTokenToBeMoved =\n    (balances[msg.sender] * p.splitData[0].rewardToken) /\n    p.splitData[0].totalSupply;\n\n  uint paidOutToBeMoved = DAOpaidOut[address(this)] * rewardTokenToBeMoved /\n    rewardToken[address(this)];\n\n  rewardToken[address(p.splitData[0].newDAO)] += rewardTokenToBeMoved;\n  if (rewardToken[address(this)] < rewardTokenToBeMoved)\n    throw;\n  rewardToken[address(this)] -= rewardTokenToBeMoved;\n\n  DAOpaidOut[address(p.splitData[0].newDAO)] += paidOutToBeMoved;\n  if (DAOpaidOut[address(this)] < paidOutToBeMoved)\n    throw;\n  DAOpaidOut[address(this)] -= paidOutToBeMoved;\n\n  // Burn DAO Tokens\n  Transfer(msg.sender, 0, balances[msg.sender]);\n  withdrawRewardFor(msg.sender); // be nice, and get his rewards\n  totalSupply -= balances[msg.sender];\n  balances[msg.sender] = 0;\n  paidOut[msg.sender] = 0;\n  return true;\n}\n\nfunction newContract(address _newContract){\n  if (msg.sender != address(this) || !allowedRecipients[_newContract]) return;\n  // move all ether\n  if (!_newContract.call.value(address(this).balance)()) {\n    throw;\n  }\n\n  //move all reward tokens\n  rewardToken[_newContract] += rewardToken[address(this)];\n  rewardToken[address(this)] = 0;\n  DAOpaidOut[_newContract] += DAOpaidOut[address(this)];\n  DAOpaidOut[address(this)] = 0;\n}\n\nfunction retrieveDAOReward(bool _toMembers) external noEther returns (bool _success) {\n  DAO dao = DAO(msg.sender);\n\n  if ((rewardToken[msg.sender] * DAOrewardAccount.accumulatedInput()) /\n    totalRewardToken < DAOpaidOut[msg.sender])\n    throw;\n\n  uint reward =\n    (rewardToken[msg.sender] * DAOrewardAccount.accumulatedInput()) /\n    totalRewardToken - DAOpaidOut[msg.sender];\n  if(_toMembers) {\n    if (!DAOrewardAccount.payOut(dao.rewardAccount(), reward))\n      throw;\n    }\n  else {\n    if (!DAOrewardAccount.payOut(dao, reward))\n    throw;\n  }\n  DAOpaidOut[msg.sender] += reward;\n  return true;\n}\n:end\n'
;module.exports=content;
},{"archieml":1,"path":16,"xtend":35}],47:[function(require,module,exports){
"use strict";module.exports=[require("./logger"),require("./ui"),require("./content")];
},{"./content":46,"./logger":48,"./ui":49}],48:[function(require,module,exports){
(function (process){
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var o=0,e=Array(r.length);o<r.length;o++)e[o]=r[o];return e}return Array.from(r)}function logger(r,o){r.logger="development"===process.env.NODE_ENV,o.on("*",function(o,e){var n=[];if(r.logger&&console.log){var l;n="render"===o?["%c"+o,"color: blue",e]:[o,e],(l=console).log.apply(l,_toConsumableArray(n))}})}module.exports=logger;
}).call(this,require('_process'))

},{"_process":19}],49:[function(require,module,exports){
"use strict";function ui(i,e){function o(){clearTimeout(n),n=setTimeout(function(){s()},100)}function s(){var o=window.innerWidth<=700,s=i.ui.isMobile!==o;i.ui.view="narrative",i.ui.isMobile=o,s&&e.emit("render","mobile")}function r(o){var s=o.clientX/window.innerWidth*100,r={};!i.ui.isMobile&&d&&(r=s>i.ui.thresholds[1]&&i.ui.sidebars>0?{view:"sidebar",scroll:!0,thresholds:[1,50]}:s>i.ui.thresholds[0]?{view:"narrative",scroll:!0,thresholds:[20,80]}:{view:"code",scroll:!1,thresholds:[50,99]},window.scrollY<=window.innerHeight&&(r={view:"narrative",scroll:!0}),r.view!==i.ui.view&&(clearTimeout(t),d=!1,t=setTimeout(function(){d=!0},900),e.emit("ui:update",r),e.emit("render","mousemove")))}i.ui={isMobile:!1,scroll:!0,view:"narrative",thresholds:[20,80],sidebar:!1,sidebars:0};var n,t,d=!0;e.on("ui:update",function(e){i.ui=xtend(i.ui,e),i.ui.scroll?(document.body.classList.remove("oh"),document.body.classList.add("oxh")):(document.body.classList.add("oh"),document.body.classList.remove("oxh"))}),e.on("ui:sidebar",function(o){var s=!1;o.active&&i.ui.sidebars>=0?i.ui.sidebars+=1:i.ui.sidebars>0&&(i.ui.sidebars-=1),i.ui.sidebar=i.ui.sidebars>0,i.ui.sidebar||"sidebar"!==i.ui.view||(i.ui.view="narrative",i.ui.scroll=!0,s=!0),i.ui.isMobile&&(s=!0),s&&e.emit("render","ui:sidebar")}),e.on("ui:navigation",function(o){o.view!==i.ui.view&&(i.ui.view=o.view,e.emit("render","ui:navigation"))}),e.on("DOMContentLoaded",function(){document.body.classList.add("oxh"),s(),window.addEventListener("resize",o,!1),window.addEventListener("mousemove",r,!1)})}var xtend=require("xtend");module.exports=ui;
},{"xtend":35}],50:[function(require,module,exports){
"use strict";function _taggedTemplateLiteral(e,i){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(i)}}))}function view(e,i){return html(_templateObject,function(){function t(e){i("ui:sidebar",{active:!0})}function r(e){i("ui:sidebar",{active:!1})}return[h(Header,{}),e.ui.isMobile?"":h(Code,{content:e.content.code,left:"sidebar"===e.ui.view,right:"code"===e.ui.view}),h(Narrative,{handleClipEnter:t,handleClipLeave:r,content:e.content.copy,footer:e.content.footer,sidebar:e.content.sidebar,left:"sidebar"===e.ui.view,right:"code"===e.ui.view,navigation:{active:e.ui.sidebar,visible:e.ui.isMobile,view:e.ui.view,handleClick:function(e){return i("ui:navigation",e)}}})]}())}var _templateObject=_taggedTemplateLiteral(['\n    <div class="ether-container bgblack tcwhite ffsans fs1 lh1-5 vw100 pb4 oxh ls1">\n      ',"\n    </div>\n  "],['\n    <div class="ether-container bgblack tcwhite ffsans fs1 lh1-5 vw100 pb4 oxh ls1">\n      ',"\n    </div>\n  "]),html=require("rooch/html"),h=require("rooch/h"),Component=require("rooch/component"),Header=require("../containers/header"),Code=require("../containers/code"),Narrative=require("../containers/narrative"),Footer=require("../containers/footer");module.exports=view;
},{"../containers/code":39,"../containers/footer":40,"../containers/header":41,"../containers/narrative":42,"rooch/component":22,"rooch/h":23,"rooch/html":24}],51:[function(require,module,exports){
"use strict";module.exports=[["*",require("./default")]];
},{"./default":50}],52:[function(require,module,exports){
"use strict";require("../../node_modules/ramen/public/js/modules/terminal.js"),require("./ether");
},{"../../node_modules/ramen/public/js/modules/terminal.js":20,"./ether":45}]},{},[52])

